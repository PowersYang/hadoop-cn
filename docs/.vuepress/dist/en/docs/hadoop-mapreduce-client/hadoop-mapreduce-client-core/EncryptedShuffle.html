<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Hadoop: Encrypted Shuffle | Hadoop中文网</title>
    <meta name="description" content="Hadoop官方文档中文社区">
    
    
    <link rel="preload" href="/assets/css/0.styles.74fd5345.css" as="style"><link rel="preload" href="/assets/js/app.1efbd24b.js" as="script"><link rel="preload" href="/assets/js/2.8cd1edd2.js" as="script"><link rel="preload" href="/assets/js/155.18993967.js" as="script"><link rel="prefetch" href="/assets/js/10.d1e9cb36.js"><link rel="prefetch" href="/assets/js/100.980e5915.js"><link rel="prefetch" href="/assets/js/101.8d7d02d7.js"><link rel="prefetch" href="/assets/js/102.95c1b6a2.js"><link rel="prefetch" href="/assets/js/103.267b2dad.js"><link rel="prefetch" href="/assets/js/104.5f5393b9.js"><link rel="prefetch" href="/assets/js/105.b94bd9f2.js"><link rel="prefetch" href="/assets/js/106.bae16a13.js"><link rel="prefetch" href="/assets/js/107.e044c70f.js"><link rel="prefetch" href="/assets/js/108.23a38edb.js"><link rel="prefetch" href="/assets/js/109.0f0a6fee.js"><link rel="prefetch" href="/assets/js/11.734039ee.js"><link rel="prefetch" href="/assets/js/110.c1880f58.js"><link rel="prefetch" href="/assets/js/111.7b19b7ea.js"><link rel="prefetch" href="/assets/js/112.96e710ae.js"><link rel="prefetch" href="/assets/js/113.58c2c2a4.js"><link rel="prefetch" href="/assets/js/114.fe548485.js"><link rel="prefetch" href="/assets/js/115.5f5ec12c.js"><link rel="prefetch" href="/assets/js/116.6b1478f0.js"><link rel="prefetch" href="/assets/js/117.f60ad574.js"><link rel="prefetch" href="/assets/js/118.3b54b45e.js"><link rel="prefetch" href="/assets/js/119.645b43ca.js"><link rel="prefetch" href="/assets/js/12.8b98cd3f.js"><link rel="prefetch" href="/assets/js/120.75c61ce0.js"><link rel="prefetch" href="/assets/js/121.a1c8b96e.js"><link rel="prefetch" href="/assets/js/122.efb675f6.js"><link rel="prefetch" href="/assets/js/123.8c26f134.js"><link rel="prefetch" href="/assets/js/124.2c5d5865.js"><link rel="prefetch" href="/assets/js/125.59af84e2.js"><link rel="prefetch" href="/assets/js/126.f8e7e11f.js"><link rel="prefetch" href="/assets/js/127.eefb2c1d.js"><link rel="prefetch" href="/assets/js/128.2df35959.js"><link rel="prefetch" href="/assets/js/129.21ce73d8.js"><link rel="prefetch" href="/assets/js/13.dcaa3aa9.js"><link rel="prefetch" href="/assets/js/130.a0488add.js"><link rel="prefetch" href="/assets/js/131.6f379af3.js"><link rel="prefetch" href="/assets/js/132.f1c9e6bf.js"><link rel="prefetch" href="/assets/js/133.63ed6868.js"><link rel="prefetch" href="/assets/js/134.c7facc8b.js"><link rel="prefetch" href="/assets/js/135.69334f44.js"><link rel="prefetch" href="/assets/js/136.745c3065.js"><link rel="prefetch" href="/assets/js/137.c3c82572.js"><link rel="prefetch" href="/assets/js/138.2ece7d2b.js"><link rel="prefetch" href="/assets/js/139.80c173cf.js"><link rel="prefetch" href="/assets/js/14.4bc9fc9e.js"><link rel="prefetch" href="/assets/js/140.31b78bba.js"><link rel="prefetch" href="/assets/js/141.0526e6fe.js"><link rel="prefetch" href="/assets/js/142.1e37476d.js"><link rel="prefetch" href="/assets/js/143.49542f86.js"><link rel="prefetch" href="/assets/js/144.d9461d7d.js"><link rel="prefetch" href="/assets/js/145.cec78feb.js"><link rel="prefetch" href="/assets/js/146.83d7155d.js"><link rel="prefetch" href="/assets/js/147.83b94365.js"><link rel="prefetch" href="/assets/js/148.a218bcf9.js"><link rel="prefetch" href="/assets/js/149.0b8d68d3.js"><link rel="prefetch" href="/assets/js/15.f1495a71.js"><link rel="prefetch" href="/assets/js/150.da4631dd.js"><link rel="prefetch" href="/assets/js/151.a8a1ef12.js"><link rel="prefetch" href="/assets/js/152.6bb37c33.js"><link rel="prefetch" href="/assets/js/153.4f3d9492.js"><link rel="prefetch" href="/assets/js/154.e7278750.js"><link rel="prefetch" href="/assets/js/156.716cbfb3.js"><link rel="prefetch" href="/assets/js/157.732f4fbf.js"><link rel="prefetch" href="/assets/js/158.d63ed267.js"><link rel="prefetch" href="/assets/js/159.2ffcecac.js"><link rel="prefetch" href="/assets/js/16.f665c0fb.js"><link rel="prefetch" href="/assets/js/160.896190df.js"><link rel="prefetch" href="/assets/js/161.a6e6a707.js"><link rel="prefetch" href="/assets/js/162.f53ecb46.js"><link rel="prefetch" href="/assets/js/163.0786070b.js"><link rel="prefetch" href="/assets/js/164.b4b45bba.js"><link rel="prefetch" href="/assets/js/165.9fde1a12.js"><link rel="prefetch" href="/assets/js/166.4de83080.js"><link rel="prefetch" href="/assets/js/167.827087c1.js"><link rel="prefetch" href="/assets/js/168.da9dd78d.js"><link rel="prefetch" href="/assets/js/169.5fdd3bda.js"><link rel="prefetch" href="/assets/js/17.e4ee18a4.js"><link rel="prefetch" href="/assets/js/170.7589d0a9.js"><link rel="prefetch" href="/assets/js/171.0dc81296.js"><link rel="prefetch" href="/assets/js/172.30b4b867.js"><link rel="prefetch" href="/assets/js/173.9c90fc90.js"><link rel="prefetch" href="/assets/js/174.6183d84e.js"><link rel="prefetch" href="/assets/js/175.1c9e6d1d.js"><link rel="prefetch" href="/assets/js/176.ead63ab4.js"><link rel="prefetch" href="/assets/js/177.c9fc6dbc.js"><link rel="prefetch" href="/assets/js/178.ac7192e3.js"><link rel="prefetch" href="/assets/js/179.30b7a108.js"><link rel="prefetch" href="/assets/js/18.679e1c4b.js"><link rel="prefetch" href="/assets/js/180.7e9ecf02.js"><link rel="prefetch" href="/assets/js/181.bf48d0ec.js"><link rel="prefetch" href="/assets/js/182.9b2b750a.js"><link rel="prefetch" href="/assets/js/183.583d06a0.js"><link rel="prefetch" href="/assets/js/184.268c43fd.js"><link rel="prefetch" href="/assets/js/185.acac94c9.js"><link rel="prefetch" href="/assets/js/186.df6338c3.js"><link rel="prefetch" href="/assets/js/187.8198a600.js"><link rel="prefetch" href="/assets/js/188.399f7a36.js"><link rel="prefetch" href="/assets/js/189.e281b2ce.js"><link rel="prefetch" href="/assets/js/19.c3df06ff.js"><link rel="prefetch" href="/assets/js/190.a1bd92de.js"><link rel="prefetch" href="/assets/js/191.6d6cb9be.js"><link rel="prefetch" href="/assets/js/192.b55454fc.js"><link rel="prefetch" href="/assets/js/193.31d47ee4.js"><link rel="prefetch" href="/assets/js/194.619fa647.js"><link rel="prefetch" href="/assets/js/195.c05e2717.js"><link rel="prefetch" href="/assets/js/196.5455e34a.js"><link rel="prefetch" href="/assets/js/197.c3ba1d50.js"><link rel="prefetch" href="/assets/js/198.3dcc1f5e.js"><link rel="prefetch" href="/assets/js/199.42657e5a.js"><link rel="prefetch" href="/assets/js/20.2006782a.js"><link rel="prefetch" href="/assets/js/200.e202d26f.js"><link rel="prefetch" href="/assets/js/201.9348c033.js"><link rel="prefetch" href="/assets/js/202.4530c36e.js"><link rel="prefetch" href="/assets/js/203.396a50cf.js"><link rel="prefetch" href="/assets/js/204.2ba7d16f.js"><link rel="prefetch" href="/assets/js/205.4d5c1148.js"><link rel="prefetch" href="/assets/js/206.c1150af9.js"><link rel="prefetch" href="/assets/js/207.d0fe1a93.js"><link rel="prefetch" href="/assets/js/208.a9b85cc2.js"><link rel="prefetch" href="/assets/js/209.aeec8fa7.js"><link rel="prefetch" href="/assets/js/21.ff9af4a3.js"><link rel="prefetch" href="/assets/js/210.56c4abe2.js"><link rel="prefetch" href="/assets/js/211.0a62945c.js"><link rel="prefetch" href="/assets/js/212.2e0a53b6.js"><link rel="prefetch" href="/assets/js/213.0c1e7628.js"><link rel="prefetch" href="/assets/js/214.4e70859b.js"><link rel="prefetch" href="/assets/js/215.89e3fd6e.js"><link rel="prefetch" href="/assets/js/216.ebee5911.js"><link rel="prefetch" href="/assets/js/217.65e6fb1a.js"><link rel="prefetch" href="/assets/js/218.3ec81244.js"><link rel="prefetch" href="/assets/js/219.fcd0a298.js"><link rel="prefetch" href="/assets/js/22.42333a57.js"><link rel="prefetch" href="/assets/js/220.2f0bcdf5.js"><link rel="prefetch" href="/assets/js/221.5cbab154.js"><link rel="prefetch" href="/assets/js/222.4fb150fa.js"><link rel="prefetch" href="/assets/js/223.6df2e934.js"><link rel="prefetch" href="/assets/js/224.2a82f981.js"><link rel="prefetch" href="/assets/js/225.f013043f.js"><link rel="prefetch" href="/assets/js/226.436d9a47.js"><link rel="prefetch" href="/assets/js/227.debf53b6.js"><link rel="prefetch" href="/assets/js/228.adb127d4.js"><link rel="prefetch" href="/assets/js/229.d712dd19.js"><link rel="prefetch" href="/assets/js/23.bd1919e0.js"><link rel="prefetch" href="/assets/js/230.0115051e.js"><link rel="prefetch" href="/assets/js/231.f329be38.js"><link rel="prefetch" href="/assets/js/232.78756dd7.js"><link rel="prefetch" href="/assets/js/233.8b606804.js"><link rel="prefetch" href="/assets/js/234.d77ff187.js"><link rel="prefetch" href="/assets/js/235.d0a44e10.js"><link rel="prefetch" href="/assets/js/236.a270bc77.js"><link rel="prefetch" href="/assets/js/237.bf93c463.js"><link rel="prefetch" href="/assets/js/238.ab9c0487.js"><link rel="prefetch" href="/assets/js/239.fb2c347a.js"><link rel="prefetch" href="/assets/js/24.4065fee5.js"><link rel="prefetch" href="/assets/js/240.0a508acb.js"><link rel="prefetch" href="/assets/js/241.e73f9042.js"><link rel="prefetch" href="/assets/js/242.5d119394.js"><link rel="prefetch" href="/assets/js/243.0852d377.js"><link rel="prefetch" href="/assets/js/244.aac64bc3.js"><link rel="prefetch" href="/assets/js/245.8c9f1e44.js"><link rel="prefetch" href="/assets/js/246.fc5d2c03.js"><link rel="prefetch" href="/assets/js/247.74303e39.js"><link rel="prefetch" href="/assets/js/248.f4fdd84f.js"><link rel="prefetch" href="/assets/js/249.b10c51fa.js"><link rel="prefetch" href="/assets/js/25.d95e2035.js"><link rel="prefetch" href="/assets/js/250.1a7ff4ed.js"><link rel="prefetch" href="/assets/js/251.b0d6c581.js"><link rel="prefetch" href="/assets/js/252.8a1f801c.js"><link rel="prefetch" href="/assets/js/253.58fa7f3f.js"><link rel="prefetch" href="/assets/js/254.8cb349b3.js"><link rel="prefetch" href="/assets/js/255.a83f3566.js"><link rel="prefetch" href="/assets/js/256.a517daf4.js"><link rel="prefetch" href="/assets/js/257.deedf7ab.js"><link rel="prefetch" href="/assets/js/258.389cd2fd.js"><link rel="prefetch" href="/assets/js/259.76aecfae.js"><link rel="prefetch" href="/assets/js/26.dcf843b3.js"><link rel="prefetch" href="/assets/js/260.6e818374.js"><link rel="prefetch" href="/assets/js/261.75c0cad1.js"><link rel="prefetch" href="/assets/js/262.29be1dd0.js"><link rel="prefetch" href="/assets/js/263.38b13d89.js"><link rel="prefetch" href="/assets/js/264.3be16df5.js"><link rel="prefetch" href="/assets/js/265.330233bb.js"><link rel="prefetch" href="/assets/js/266.edec9f04.js"><link rel="prefetch" href="/assets/js/267.fd6096d7.js"><link rel="prefetch" href="/assets/js/268.0cd40d5c.js"><link rel="prefetch" href="/assets/js/269.814f292a.js"><link rel="prefetch" href="/assets/js/27.bb2b9a5f.js"><link rel="prefetch" href="/assets/js/28.bb1dd1d1.js"><link rel="prefetch" href="/assets/js/29.3c4e22e4.js"><link rel="prefetch" href="/assets/js/3.12186190.js"><link rel="prefetch" href="/assets/js/30.2f612343.js"><link rel="prefetch" href="/assets/js/31.bb36e762.js"><link rel="prefetch" href="/assets/js/32.d9a27874.js"><link rel="prefetch" href="/assets/js/33.41cad49e.js"><link rel="prefetch" href="/assets/js/34.48c9cd36.js"><link rel="prefetch" href="/assets/js/35.670feed8.js"><link rel="prefetch" href="/assets/js/36.4e4025ea.js"><link rel="prefetch" href="/assets/js/37.f9544d59.js"><link rel="prefetch" href="/assets/js/38.0a79d2ef.js"><link rel="prefetch" href="/assets/js/39.7e6f626d.js"><link rel="prefetch" href="/assets/js/4.688aea8c.js"><link rel="prefetch" href="/assets/js/40.6049d25c.js"><link rel="prefetch" href="/assets/js/41.efaf9086.js"><link rel="prefetch" href="/assets/js/42.7ec5f386.js"><link rel="prefetch" href="/assets/js/43.73882f4b.js"><link rel="prefetch" href="/assets/js/44.bd9237b2.js"><link rel="prefetch" href="/assets/js/45.b82bdc89.js"><link rel="prefetch" href="/assets/js/46.964042e4.js"><link rel="prefetch" href="/assets/js/47.1ac801fb.js"><link rel="prefetch" href="/assets/js/48.96bd249c.js"><link rel="prefetch" href="/assets/js/49.efa4ffbd.js"><link rel="prefetch" href="/assets/js/5.06dc3e30.js"><link rel="prefetch" href="/assets/js/50.26a6f561.js"><link rel="prefetch" href="/assets/js/51.e697ab24.js"><link rel="prefetch" href="/assets/js/52.2b4ed74b.js"><link rel="prefetch" href="/assets/js/53.1d40565d.js"><link rel="prefetch" href="/assets/js/54.23dd5509.js"><link rel="prefetch" href="/assets/js/55.97638dfd.js"><link rel="prefetch" href="/assets/js/56.a6a789a7.js"><link rel="prefetch" href="/assets/js/57.46a9e477.js"><link rel="prefetch" href="/assets/js/58.a2605148.js"><link rel="prefetch" href="/assets/js/59.b61f348e.js"><link rel="prefetch" href="/assets/js/6.cd1b69bf.js"><link rel="prefetch" href="/assets/js/60.45ce71dc.js"><link rel="prefetch" href="/assets/js/61.422d8ce0.js"><link rel="prefetch" href="/assets/js/62.708dfa97.js"><link rel="prefetch" href="/assets/js/63.bf87eca7.js"><link rel="prefetch" href="/assets/js/64.849b066d.js"><link rel="prefetch" href="/assets/js/65.312217c0.js"><link rel="prefetch" href="/assets/js/66.a538fe2e.js"><link rel="prefetch" href="/assets/js/67.ee990cae.js"><link rel="prefetch" href="/assets/js/68.1ecf9924.js"><link rel="prefetch" href="/assets/js/69.adc481ab.js"><link rel="prefetch" href="/assets/js/7.0bd1884d.js"><link rel="prefetch" href="/assets/js/70.7bf35175.js"><link rel="prefetch" href="/assets/js/71.13d875f2.js"><link rel="prefetch" href="/assets/js/72.13c32246.js"><link rel="prefetch" href="/assets/js/73.dabe70e7.js"><link rel="prefetch" href="/assets/js/74.a012e667.js"><link rel="prefetch" href="/assets/js/75.82d9cd14.js"><link rel="prefetch" href="/assets/js/76.56e29578.js"><link rel="prefetch" href="/assets/js/77.3c04b332.js"><link rel="prefetch" href="/assets/js/78.a98bdb60.js"><link rel="prefetch" href="/assets/js/79.d05db886.js"><link rel="prefetch" href="/assets/js/8.f75bda51.js"><link rel="prefetch" href="/assets/js/80.669f2672.js"><link rel="prefetch" href="/assets/js/81.107cd6be.js"><link rel="prefetch" href="/assets/js/82.f1569a57.js"><link rel="prefetch" href="/assets/js/83.f648dac4.js"><link rel="prefetch" href="/assets/js/84.b5b6802a.js"><link rel="prefetch" href="/assets/js/85.b049a798.js"><link rel="prefetch" href="/assets/js/86.c5af02d1.js"><link rel="prefetch" href="/assets/js/87.4a7e9da8.js"><link rel="prefetch" href="/assets/js/88.889dec42.js"><link rel="prefetch" href="/assets/js/89.f44762c6.js"><link rel="prefetch" href="/assets/js/9.0cf90f60.js"><link rel="prefetch" href="/assets/js/90.2e3fc763.js"><link rel="prefetch" href="/assets/js/91.cd601f08.js"><link rel="prefetch" href="/assets/js/92.e0274556.js"><link rel="prefetch" href="/assets/js/93.f6c134ff.js"><link rel="prefetch" href="/assets/js/94.8df97042.js"><link rel="prefetch" href="/assets/js/95.ae4a963c.js"><link rel="prefetch" href="/assets/js/96.d4e1513c.js"><link rel="prefetch" href="/assets/js/97.489e7496.js"><link rel="prefetch" href="/assets/js/98.9def64cf.js"><link rel="prefetch" href="/assets/js/99.14a64144.js">
    <link rel="stylesheet" href="/assets/css/0.styles.74fd5345.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/hadoop.jpeg" alt="Hadoop中文网" class="logo"> <span class="site-name can-hide">Hadoop中文网</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/docs/releases/" class="nav-link">下载安装</a></div><div class="nav-item"><a href="/docs/" class="nav-link">参考文档</a></div><div class="nav-item"><a href="/docs/awesome/" class="nav-link">资源教程</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="选择语言" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/" class="nav-link">简体中文</a></li><li class="dropdown-item"><!----> <a href="/docs/en/" class="nav-link">English</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/docs/releases/" class="nav-link">下载安装</a></div><div class="nav-item"><a href="/docs/" class="nav-link">参考文档</a></div><div class="nav-item"><a href="/docs/awesome/" class="nav-link">资源教程</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="选择语言" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/" class="nav-link">简体中文</a></li><li class="dropdown-item"><!----> <a href="/docs/en/" class="nav-link">English</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>General</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/" class="sidebar-link">Overview</a></li><li><a href="/docs/hadoop-project-dist/hadoop-common/SingleCluster.html" class="sidebar-link">Single Node Setup</a></li><li><a href="/docs/hadoop-project-dist/hadoop-common/ClusterSetup.html" class="sidebar-link">Cluster Setup</a></li><li><a href="/docs/hadoop-project-dist/hadoop-common/CommandsManual.html" class="sidebar-link">Commands Reference</a></li><li><a href="/docs/hadoop-project-dist/hadoop-common/FileSystemShell.html" class="sidebar-link">FileSystem Shell</a></li><li><a href="/docs/hadoop-project-dist/hadoop-common/Compatibility.html" class="sidebar-link">Compatibility Specification</a></li><li><a href="/docs/hadoop-project-dist/hadoop-common/DownstreamDev.html" class="sidebar-link">Downstream Developer's Guide</a></li><li><a href="/docs/hadoop-project-dist/hadoop-common/AdminCompatibilityGuide.html" class="sidebar-link">Admin Compatibility Guide</a></li><li><a href="/docs/hadoop-project-dist/hadoop-common/InterfaceClassification.html" class="sidebar-link">Interface Classification</a></li><li><a href="/docs/hadoop-project-dist/hadoop-common/filesystem/" class="sidebar-link">FileSystem Specification</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Common</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HDFS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>MapReduce</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>MapReduce REST APIs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>YARN</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>YARN REST APIs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>YARN Service</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Submarine</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Hadoop Compatible File Systems</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Auth</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Tools</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Reference</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>配置</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="hadoop-encrypted-shuffle"><a href="#hadoop-encrypted-shuffle" class="header-anchor">#</a> Hadoop: Encrypted Shuffle</h1> <h2 id="introduction"><a href="#introduction" class="header-anchor">#</a> Introduction</h2> <p>The Encrypted Shuffle capability allows encryption of the MapReduce shuffle using HTTPS and with optional client authentication (also known as bi-directional HTTPS, or HTTPS with client certificates). It comprises:</p> <ul><li><p>A Hadoop configuration setting for toggling the shuffle between HTTP and HTTPS.</p></li> <li><p>A Hadoop configuration settings for specifying the keystore and truststore properties (location, type, passwords) used by the shuffle service and the reducers tasks fetching shuffle data.</p></li> <li><p>A way to re-load truststores across the cluster (when a node is added or removed).</p></li></ul> <h2 id="configuration"><a href="#configuration" class="header-anchor">#</a> Configuration</h2> <h3 id="core-site-xml-properties"><a href="#core-site-xml-properties" class="header-anchor">#</a> core-site.xml Properties</h3> <p>To enable encrypted shuffle, set the following properties in core-site.xml of all nodes in the cluster:</p> <table><thead><tr><th>Property</th> <th>Default Value</th> <th>Explanation</th></tr></thead> <tbody><tr><td>hadoop.ssl.require.client.cert</td> <td>false</td> <td>Whether client certificates are required</td></tr> <tr><td>hadoop.ssl.hostname.verifier</td> <td>DEFAULT</td> <td>The hostname verifier to provide for HttpsURLConnections. Valid values are: DEFAULT, STRICT, STRICT_IE6, DEFAULT_AND_LOCALHOST and ALLOW_ALL</td></tr> <tr><td>hadoop.ssl.keystores.factory.class</td> <td>org.apache.hadoop.security.ssl.FileBasedKeyStoresFactory</td> <td>The KeyStoresFactory implementation to use</td></tr> <tr><td>hadoop.ssl.server.conf</td> <td>ssl-server.xml</td> <td>Resource file from which ssl server keystore information will be extracted. This file is looked up in the classpath, typically it should be in Hadoop conf/ directory</td></tr> <tr><td>hadoop.ssl.client.conf</td> <td>ssl-client.xml</td> <td>Resource file from which ssl server keystore information will be extracted. This file is looked up in the classpath, typically it should be in Hadoop conf/ directory</td></tr> <tr><td>hadoop.ssl.enabled.protocols</td> <td>TLSv1,SSLv2Hello,TLSv1.1,TLSv1.2</td> <td>The supported SSL protocols</td></tr></tbody></table> <p>IMPORTANT: Currently requiring client certificates should be set to false. Refer the Client Certificates section for details.</p> <p>IMPORTANT: All these properties should be marked as final in the cluster configuration files.</p> <h4 id="example"><a href="#example" class="header-anchor">#</a> Example:</h4> <pre><code>  &lt;property&gt;
    &lt;name&gt;hadoop.ssl.require.client.cert&lt;/name&gt;
    &lt;value&gt;false&lt;/value&gt;
    &lt;final&gt;true&lt;/final&gt;
  &lt;/property&gt;

  &lt;property&gt;
    &lt;name&gt;hadoop.ssl.hostname.verifier&lt;/name&gt;
    &lt;value&gt;DEFAULT&lt;/value&gt;
    &lt;final&gt;true&lt;/final&gt;
  &lt;/property&gt;

  &lt;property&gt;
    &lt;name&gt;hadoop.ssl.keystores.factory.class&lt;/name&gt;
    &lt;value&gt;org.apache.hadoop.security.ssl.FileBasedKeyStoresFactory&lt;/value&gt;
    &lt;final&gt;true&lt;/final&gt;
  &lt;/property&gt;

  &lt;property&gt;
    &lt;name&gt;hadoop.ssl.server.conf&lt;/name&gt;
    &lt;value&gt;ssl-server.xml&lt;/value&gt;
    &lt;final&gt;true&lt;/final&gt;
  &lt;/property&gt;

  &lt;property&gt;
    &lt;name&gt;hadoop.ssl.client.conf&lt;/name&gt;
    &lt;value&gt;ssl-client.xml&lt;/value&gt;
    &lt;final&gt;true&lt;/final&gt;
  &lt;/property&gt;
</code></pre> <h3 id="mapred-site-xml-properties"><a href="#mapred-site-xml-properties" class="header-anchor">#</a> mapred-site.xml Properties</h3> <p>To enable encrypted shuffle, set the following property in mapred-site.xml of all nodes in the cluster:</p> <table><thead><tr><th>Property</th> <th>Default Value</th> <th>Explanation</th></tr></thead> <tbody><tr><td>mapreduce.shuffle.ssl.enabled</td> <td>false</td> <td>Whether encrypted shuffle is enabled</td></tr></tbody></table> <p>IMPORTANT: This property should be marked as final in the cluster configuration files.</p> <h4 id="example-2"><a href="#example-2" class="header-anchor">#</a> Example:</h4> <pre><code>  &lt;property&gt;
    &lt;name&gt;mapreduce.shuffle.ssl.enabled&lt;/name&gt;
    &lt;value&gt;true&lt;/value&gt;
    &lt;final&gt;true&lt;/final&gt;
  &lt;/property&gt;
</code></pre> <p>The Linux container executor should be set to prevent job tasks from reading the server keystore information and gaining access to the shuffle server certificates.</p> <p>Refer to Hadoop Kerberos configuration for details on how to do this.</p> <h2 id="keystore-and-truststore-settings"><a href="#keystore-and-truststore-settings" class="header-anchor">#</a> Keystore and Truststore Settings</h2> <p>Currently FileBasedKeyStoresFactory is the only KeyStoresFactory implementation. The FileBasedKeyStoresFactory implementation uses the following properties, in the ssl-server.xml and ssl-client.xml files, to configure the keystores and truststores.</p> <h3 id="ssl-server-xml-shuffle-server-configuration"><a href="#ssl-server-xml-shuffle-server-configuration" class="header-anchor">#</a> ssl-server.xml (Shuffle server) Configuration:</h3> <p>The mapred user should own the ssl-server.xml file and have exclusive read access to it.</p> <table><thead><tr><th>Property</th> <th>Default Value</th> <th>Explanation</th></tr></thead> <tbody><tr><td>ssl.server.keystore.type</td> <td>jks</td> <td>Keystore file type</td></tr> <tr><td>ssl.server.keystore.location</td> <td>NONE</td> <td>Keystore file location. The mapred user should own this file and have exclusive read access to it.</td></tr> <tr><td>ssl.server.keystore.password</td> <td>NONE</td> <td>Keystore file password</td></tr> <tr><td>ssl.server.truststore.type</td> <td>jks</td> <td>Truststore file type</td></tr> <tr><td>ssl.server.truststore.location</td> <td>NONE</td> <td>Truststore file location. The mapred user should own this file and have exclusive read access to it.</td></tr> <tr><td>ssl.server.truststore.password</td> <td>NONE</td> <td>Truststore file password</td></tr> <tr><td>ssl.server.truststore.reload.interval</td> <td>10000</td> <td>Truststore reload interval, in milliseconds</td></tr></tbody></table> <h4 id="example-3"><a href="#example-3" class="header-anchor">#</a> Example:</h4> <pre><code>&lt;configuration&gt;

  &lt;!-- Server Certificate Store --&gt;
  &lt;property&gt;
    &lt;name&gt;ssl.server.keystore.type&lt;/name&gt;
    &lt;value&gt;jks&lt;/value&gt;
  &lt;/property&gt;
  &lt;property&gt;
    &lt;name&gt;ssl.server.keystore.location&lt;/name&gt;
    &lt;value&gt;${user.home}/keystores/server-keystore.jks&lt;/value&gt;
  &lt;/property&gt;
  &lt;property&gt;
    &lt;name&gt;ssl.server.keystore.password&lt;/name&gt;
    &lt;value&gt;serverfoo&lt;/value&gt;
  &lt;/property&gt;

  &lt;!-- Server Trust Store --&gt;
  &lt;property&gt;
    &lt;name&gt;ssl.server.truststore.type&lt;/name&gt;
    &lt;value&gt;jks&lt;/value&gt;
  &lt;/property&gt;
  &lt;property&gt;
    &lt;name&gt;ssl.server.truststore.location&lt;/name&gt;
    &lt;value&gt;${user.home}/keystores/truststore.jks&lt;/value&gt;
  &lt;/property&gt;
  &lt;property&gt;
    &lt;name&gt;ssl.server.truststore.password&lt;/name&gt;
    &lt;value&gt;clientserverbar&lt;/value&gt;
  &lt;/property&gt;
  &lt;property&gt;
    &lt;name&gt;ssl.server.truststore.reload.interval&lt;/name&gt;
    &lt;value&gt;10000&lt;/value&gt;
  &lt;/property&gt;
&lt;/configuration&gt;
</code></pre> <h3 id="ssl-client-xml-reducer-fetcher-configuration"><a href="#ssl-client-xml-reducer-fetcher-configuration" class="header-anchor">#</a> ssl-client.xml (Reducer/Fetcher) Configuration:</h3> <p>The mapred user should own the ssl-client.xml file and it should have default permissions.</p> <table><thead><tr><th>Property</th> <th>Default Value</th> <th>Explanation</th></tr></thead> <tbody><tr><td>ssl.client.keystore.type</td> <td>jks</td> <td>Keystore file type</td></tr> <tr><td>ssl.client.keystore.location</td> <td>NONE</td> <td>Keystore file location. The mapred user should own this file and it should have default permissions.</td></tr> <tr><td>ssl.client.keystore.password</td> <td>NONE</td> <td>Keystore file password</td></tr> <tr><td>ssl.client.truststore.type</td> <td>jks</td> <td>Truststore file type</td></tr> <tr><td>ssl.client.truststore.location</td> <td>NONE</td> <td>Truststore file location. The mapred user should own this file and it should have default permissions.</td></tr> <tr><td>ssl.client.truststore.password</td> <td>NONE</td> <td>Truststore file password</td></tr> <tr><td>ssl.client.truststore.reload.interval</td> <td>10000</td> <td>Truststore reload interval, in milliseconds</td></tr></tbody></table> <h4 id="example-4"><a href="#example-4" class="header-anchor">#</a> Example:</h4> <pre><code>&lt;configuration&gt;

  &lt;!-- Client certificate Store --&gt;
  &lt;property&gt;
    &lt;name&gt;ssl.client.keystore.type&lt;/name&gt;
    &lt;value&gt;jks&lt;/value&gt;
  &lt;/property&gt;
  &lt;property&gt;
    &lt;name&gt;ssl.client.keystore.location&lt;/name&gt;
    &lt;value&gt;${user.home}/keystores/client-keystore.jks&lt;/value&gt;
  &lt;/property&gt;
  &lt;property&gt;
    &lt;name&gt;ssl.client.keystore.password&lt;/name&gt;
    &lt;value&gt;clientfoo&lt;/value&gt;
  &lt;/property&gt;

  &lt;!-- Client Trust Store --&gt;
  &lt;property&gt;
    &lt;name&gt;ssl.client.truststore.type&lt;/name&gt;
    &lt;value&gt;jks&lt;/value&gt;
  &lt;/property&gt;
  &lt;property&gt;
    &lt;name&gt;ssl.client.truststore.location&lt;/name&gt;
    &lt;value&gt;${user.home}/keystores/truststore.jks&lt;/value&gt;
  &lt;/property&gt;
  &lt;property&gt;
    &lt;name&gt;ssl.client.truststore.password&lt;/name&gt;
    &lt;value&gt;clientserverbar&lt;/value&gt;
  &lt;/property&gt;
  &lt;property&gt;
    &lt;name&gt;ssl.client.truststore.reload.interval&lt;/name&gt;
    &lt;value&gt;10000&lt;/value&gt;
  &lt;/property&gt;
&lt;/configuration&gt;
</code></pre> <h2 id="activating-encrypted-shuffle"><a href="#activating-encrypted-shuffle" class="header-anchor">#</a> Activating Encrypted Shuffle</h2> <p>When you have made the above configuration changes, activate Encrypted Shuffle by re-starting all NodeManagers.</p> <p>IMPORTANT: Using encrypted shuffle will incur in a significant performance impact. Users should profile this and potentially reserve 1 or more cores for encrypted shuffle.</p> <h2 id="client-certificates"><a href="#client-certificates" class="header-anchor">#</a> Client Certificates</h2> <p>Using Client Certificates does not fully ensure that the client is a reducer task for the job. Currently, Client Certificates (their private key) keystore files must be readable by all users submitting jobs to the cluster. This means that a rogue job could read such those keystore files and use the client certificates in them to establish a secure connection with a Shuffle server. However, unless the rogue job has a proper JobToken, it won’t be able to retrieve shuffle data from the Shuffle server. A job, using its own JobToken, can only retrieve shuffle data that belongs to itself.</p> <h2 id="reloading-truststores"><a href="#reloading-truststores" class="header-anchor">#</a> Reloading Truststores</h2> <p>By default the truststores will reload their configuration every 10 seconds. If a new truststore file is copied over the old one, it will be re-read, and its certificates will replace the old ones. This mechanism is useful for adding or removing nodes from the cluster, or for adding or removing trusted clients. In these cases, the client or NodeManager certificate is added to (or removed from) all the truststore files in the system, and the new configuration will be picked up without you having to restart the NodeManager daemons.</p> <h2 id="debugging"><a href="#debugging" class="header-anchor">#</a> Debugging</h2> <p>NOTE: Enable debugging only for troubleshooting, and then only for jobs running on small amounts of data. It is very verbose and slows down jobs by several orders of magnitude. (You might need to increase mapred.task.timeout to prevent jobs from failing because tasks run so slowly.)</p> <p>To enable SSL debugging in the reducers, set -Djavax.net.debug=all in the mapreduce.reduce.child.java.opts property; for example:</p> <pre><code>  &lt;property&gt;
    &lt;name&gt;mapred.reduce.child.java.opts&lt;/name&gt;
    &lt;value&gt;-Xmx-200m -Djavax.net.debug=all&lt;/value&gt;
  &lt;/property&gt;
</code></pre> <p>You can do this on a per-job basis, or by means of a cluster-wide setting in the mapred-site.xml file.</p> <p>To set this property in NodeManager, set it in the yarn-env.sh file:</p> <pre><code>  YARN_NODEMANAGER_OPTS=&quot;-Djavax.net.debug=all&quot;
</code></pre> <h2 id="encrypted-intermediate-data-spill-files"><a href="#encrypted-intermediate-data-spill-files" class="header-anchor">#</a> Encrypted Intermediate Data Spill files</h2> <p>This capability allows encryption of the intermediate files generated during the merge and shuffle phases. It can be enabled by setting the mapreduce.job.encrypted-intermediate-data job property to true.</p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>mapreduce.job.encrypted-intermediate-data</td> <td>boolean</td> <td>Enable or disable encrypt intermediate mapreduce spill files.Default is false.</td></tr> <tr><td>mapreduce.job.encrypted-intermediate-data-key-size-bits</td> <td>int</td> <td>The key length used by keygenerator to encrypt data spilled to disk.</td></tr> <tr><td>mapreduce.job.encrypted-intermediate-data.buffer.kb</td> <td>int</td> <td>The buffer size in kb for stream written to disk after encryption.</td></tr></tbody></table> <p>NOTE: Currently, enabling encrypted intermediate data spills would restrict the number of attempts of the job to 1.</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.1efbd24b.js" defer></script><script src="/assets/js/2.8cd1edd2.js" defer></script><script src="/assets/js/155.18993967.js" defer></script>
  </body>
</html>
