<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ResourceManager High Availability | Hadoop中文网</title>
    <meta name="description" content="Hadoop官方文档中文社区">
    
    
    <link rel="preload" href="/assets/css/0.styles.74fd5345.css" as="style"><link rel="preload" href="/assets/js/app.1efbd24b.js" as="script"><link rel="preload" href="/assets/js/2.8cd1edd2.js" as="script"><link rel="preload" href="/assets/js/111.7b19b7ea.js" as="script"><link rel="prefetch" href="/assets/js/10.d1e9cb36.js"><link rel="prefetch" href="/assets/js/100.980e5915.js"><link rel="prefetch" href="/assets/js/101.8d7d02d7.js"><link rel="prefetch" href="/assets/js/102.95c1b6a2.js"><link rel="prefetch" href="/assets/js/103.267b2dad.js"><link rel="prefetch" href="/assets/js/104.5f5393b9.js"><link rel="prefetch" href="/assets/js/105.b94bd9f2.js"><link rel="prefetch" href="/assets/js/106.bae16a13.js"><link rel="prefetch" href="/assets/js/107.e044c70f.js"><link rel="prefetch" href="/assets/js/108.23a38edb.js"><link rel="prefetch" href="/assets/js/109.0f0a6fee.js"><link rel="prefetch" href="/assets/js/11.734039ee.js"><link rel="prefetch" href="/assets/js/110.c1880f58.js"><link rel="prefetch" href="/assets/js/112.96e710ae.js"><link rel="prefetch" href="/assets/js/113.58c2c2a4.js"><link rel="prefetch" href="/assets/js/114.fe548485.js"><link rel="prefetch" href="/assets/js/115.5f5ec12c.js"><link rel="prefetch" href="/assets/js/116.6b1478f0.js"><link rel="prefetch" href="/assets/js/117.f60ad574.js"><link rel="prefetch" href="/assets/js/118.3b54b45e.js"><link rel="prefetch" href="/assets/js/119.645b43ca.js"><link rel="prefetch" href="/assets/js/12.8b98cd3f.js"><link rel="prefetch" href="/assets/js/120.75c61ce0.js"><link rel="prefetch" href="/assets/js/121.a1c8b96e.js"><link rel="prefetch" href="/assets/js/122.efb675f6.js"><link rel="prefetch" href="/assets/js/123.8c26f134.js"><link rel="prefetch" href="/assets/js/124.2c5d5865.js"><link rel="prefetch" href="/assets/js/125.59af84e2.js"><link rel="prefetch" href="/assets/js/126.f8e7e11f.js"><link rel="prefetch" href="/assets/js/127.eefb2c1d.js"><link rel="prefetch" href="/assets/js/128.2df35959.js"><link rel="prefetch" href="/assets/js/129.21ce73d8.js"><link rel="prefetch" href="/assets/js/13.dcaa3aa9.js"><link rel="prefetch" href="/assets/js/130.a0488add.js"><link rel="prefetch" href="/assets/js/131.6f379af3.js"><link rel="prefetch" href="/assets/js/132.f1c9e6bf.js"><link rel="prefetch" href="/assets/js/133.63ed6868.js"><link rel="prefetch" href="/assets/js/134.c7facc8b.js"><link rel="prefetch" href="/assets/js/135.69334f44.js"><link rel="prefetch" href="/assets/js/136.745c3065.js"><link rel="prefetch" href="/assets/js/137.c3c82572.js"><link rel="prefetch" href="/assets/js/138.2ece7d2b.js"><link rel="prefetch" href="/assets/js/139.80c173cf.js"><link rel="prefetch" href="/assets/js/14.4bc9fc9e.js"><link rel="prefetch" href="/assets/js/140.31b78bba.js"><link rel="prefetch" href="/assets/js/141.0526e6fe.js"><link rel="prefetch" href="/assets/js/142.1e37476d.js"><link rel="prefetch" href="/assets/js/143.49542f86.js"><link rel="prefetch" href="/assets/js/144.d9461d7d.js"><link rel="prefetch" href="/assets/js/145.cec78feb.js"><link rel="prefetch" href="/assets/js/146.83d7155d.js"><link rel="prefetch" href="/assets/js/147.83b94365.js"><link rel="prefetch" href="/assets/js/148.a218bcf9.js"><link rel="prefetch" href="/assets/js/149.0b8d68d3.js"><link rel="prefetch" href="/assets/js/15.f1495a71.js"><link rel="prefetch" href="/assets/js/150.da4631dd.js"><link rel="prefetch" href="/assets/js/151.a8a1ef12.js"><link rel="prefetch" href="/assets/js/152.6bb37c33.js"><link rel="prefetch" href="/assets/js/153.4f3d9492.js"><link rel="prefetch" href="/assets/js/154.e7278750.js"><link rel="prefetch" href="/assets/js/155.18993967.js"><link rel="prefetch" href="/assets/js/156.716cbfb3.js"><link rel="prefetch" href="/assets/js/157.732f4fbf.js"><link rel="prefetch" href="/assets/js/158.d63ed267.js"><link rel="prefetch" href="/assets/js/159.2ffcecac.js"><link rel="prefetch" href="/assets/js/16.f665c0fb.js"><link rel="prefetch" href="/assets/js/160.896190df.js"><link rel="prefetch" href="/assets/js/161.a6e6a707.js"><link rel="prefetch" href="/assets/js/162.f53ecb46.js"><link rel="prefetch" href="/assets/js/163.0786070b.js"><link rel="prefetch" href="/assets/js/164.b4b45bba.js"><link rel="prefetch" href="/assets/js/165.9fde1a12.js"><link rel="prefetch" href="/assets/js/166.4de83080.js"><link rel="prefetch" href="/assets/js/167.827087c1.js"><link rel="prefetch" href="/assets/js/168.da9dd78d.js"><link rel="prefetch" href="/assets/js/169.5fdd3bda.js"><link rel="prefetch" href="/assets/js/17.e4ee18a4.js"><link rel="prefetch" href="/assets/js/170.7589d0a9.js"><link rel="prefetch" href="/assets/js/171.0dc81296.js"><link rel="prefetch" href="/assets/js/172.30b4b867.js"><link rel="prefetch" href="/assets/js/173.9c90fc90.js"><link rel="prefetch" href="/assets/js/174.6183d84e.js"><link rel="prefetch" href="/assets/js/175.1c9e6d1d.js"><link rel="prefetch" href="/assets/js/176.ead63ab4.js"><link rel="prefetch" href="/assets/js/177.c9fc6dbc.js"><link rel="prefetch" href="/assets/js/178.ac7192e3.js"><link rel="prefetch" href="/assets/js/179.30b7a108.js"><link rel="prefetch" href="/assets/js/18.679e1c4b.js"><link rel="prefetch" href="/assets/js/180.7e9ecf02.js"><link rel="prefetch" href="/assets/js/181.bf48d0ec.js"><link rel="prefetch" href="/assets/js/182.9b2b750a.js"><link rel="prefetch" href="/assets/js/183.583d06a0.js"><link rel="prefetch" href="/assets/js/184.268c43fd.js"><link rel="prefetch" href="/assets/js/185.acac94c9.js"><link rel="prefetch" href="/assets/js/186.df6338c3.js"><link rel="prefetch" href="/assets/js/187.8198a600.js"><link rel="prefetch" href="/assets/js/188.399f7a36.js"><link rel="prefetch" href="/assets/js/189.e281b2ce.js"><link rel="prefetch" href="/assets/js/19.c3df06ff.js"><link rel="prefetch" href="/assets/js/190.a1bd92de.js"><link rel="prefetch" href="/assets/js/191.6d6cb9be.js"><link rel="prefetch" href="/assets/js/192.b55454fc.js"><link rel="prefetch" href="/assets/js/193.31d47ee4.js"><link rel="prefetch" href="/assets/js/194.619fa647.js"><link rel="prefetch" href="/assets/js/195.c05e2717.js"><link rel="prefetch" href="/assets/js/196.5455e34a.js"><link rel="prefetch" href="/assets/js/197.c3ba1d50.js"><link rel="prefetch" href="/assets/js/198.3dcc1f5e.js"><link rel="prefetch" href="/assets/js/199.42657e5a.js"><link rel="prefetch" href="/assets/js/20.2006782a.js"><link rel="prefetch" href="/assets/js/200.e202d26f.js"><link rel="prefetch" href="/assets/js/201.9348c033.js"><link rel="prefetch" href="/assets/js/202.4530c36e.js"><link rel="prefetch" href="/assets/js/203.396a50cf.js"><link rel="prefetch" href="/assets/js/204.2ba7d16f.js"><link rel="prefetch" href="/assets/js/205.4d5c1148.js"><link rel="prefetch" href="/assets/js/206.c1150af9.js"><link rel="prefetch" href="/assets/js/207.d0fe1a93.js"><link rel="prefetch" href="/assets/js/208.a9b85cc2.js"><link rel="prefetch" href="/assets/js/209.aeec8fa7.js"><link rel="prefetch" href="/assets/js/21.ff9af4a3.js"><link rel="prefetch" href="/assets/js/210.56c4abe2.js"><link rel="prefetch" href="/assets/js/211.0a62945c.js"><link rel="prefetch" href="/assets/js/212.2e0a53b6.js"><link rel="prefetch" href="/assets/js/213.0c1e7628.js"><link rel="prefetch" href="/assets/js/214.4e70859b.js"><link rel="prefetch" href="/assets/js/215.89e3fd6e.js"><link rel="prefetch" href="/assets/js/216.ebee5911.js"><link rel="prefetch" href="/assets/js/217.65e6fb1a.js"><link rel="prefetch" href="/assets/js/218.3ec81244.js"><link rel="prefetch" href="/assets/js/219.fcd0a298.js"><link rel="prefetch" href="/assets/js/22.42333a57.js"><link rel="prefetch" href="/assets/js/220.2f0bcdf5.js"><link rel="prefetch" href="/assets/js/221.5cbab154.js"><link rel="prefetch" href="/assets/js/222.4fb150fa.js"><link rel="prefetch" href="/assets/js/223.6df2e934.js"><link rel="prefetch" href="/assets/js/224.2a82f981.js"><link rel="prefetch" href="/assets/js/225.f013043f.js"><link rel="prefetch" href="/assets/js/226.436d9a47.js"><link rel="prefetch" href="/assets/js/227.debf53b6.js"><link rel="prefetch" href="/assets/js/228.adb127d4.js"><link rel="prefetch" href="/assets/js/229.d712dd19.js"><link rel="prefetch" href="/assets/js/23.bd1919e0.js"><link rel="prefetch" href="/assets/js/230.0115051e.js"><link rel="prefetch" href="/assets/js/231.f329be38.js"><link rel="prefetch" href="/assets/js/232.78756dd7.js"><link rel="prefetch" href="/assets/js/233.8b606804.js"><link rel="prefetch" href="/assets/js/234.d77ff187.js"><link rel="prefetch" href="/assets/js/235.d0a44e10.js"><link rel="prefetch" href="/assets/js/236.a270bc77.js"><link rel="prefetch" href="/assets/js/237.bf93c463.js"><link rel="prefetch" href="/assets/js/238.ab9c0487.js"><link rel="prefetch" href="/assets/js/239.fb2c347a.js"><link rel="prefetch" href="/assets/js/24.4065fee5.js"><link rel="prefetch" href="/assets/js/240.0a508acb.js"><link rel="prefetch" href="/assets/js/241.e73f9042.js"><link rel="prefetch" href="/assets/js/242.5d119394.js"><link rel="prefetch" href="/assets/js/243.0852d377.js"><link rel="prefetch" href="/assets/js/244.aac64bc3.js"><link rel="prefetch" href="/assets/js/245.8c9f1e44.js"><link rel="prefetch" href="/assets/js/246.fc5d2c03.js"><link rel="prefetch" href="/assets/js/247.74303e39.js"><link rel="prefetch" href="/assets/js/248.f4fdd84f.js"><link rel="prefetch" href="/assets/js/249.b10c51fa.js"><link rel="prefetch" href="/assets/js/25.d95e2035.js"><link rel="prefetch" href="/assets/js/250.1a7ff4ed.js"><link rel="prefetch" href="/assets/js/251.b0d6c581.js"><link rel="prefetch" href="/assets/js/252.8a1f801c.js"><link rel="prefetch" href="/assets/js/253.58fa7f3f.js"><link rel="prefetch" href="/assets/js/254.8cb349b3.js"><link rel="prefetch" href="/assets/js/255.a83f3566.js"><link rel="prefetch" href="/assets/js/256.a517daf4.js"><link rel="prefetch" href="/assets/js/257.deedf7ab.js"><link rel="prefetch" href="/assets/js/258.389cd2fd.js"><link rel="prefetch" href="/assets/js/259.76aecfae.js"><link rel="prefetch" href="/assets/js/26.dcf843b3.js"><link rel="prefetch" href="/assets/js/260.6e818374.js"><link rel="prefetch" href="/assets/js/261.75c0cad1.js"><link rel="prefetch" href="/assets/js/262.29be1dd0.js"><link rel="prefetch" href="/assets/js/263.38b13d89.js"><link rel="prefetch" href="/assets/js/264.3be16df5.js"><link rel="prefetch" href="/assets/js/265.330233bb.js"><link rel="prefetch" href="/assets/js/266.edec9f04.js"><link rel="prefetch" href="/assets/js/267.fd6096d7.js"><link rel="prefetch" href="/assets/js/268.0cd40d5c.js"><link rel="prefetch" href="/assets/js/269.814f292a.js"><link rel="prefetch" href="/assets/js/27.bb2b9a5f.js"><link rel="prefetch" href="/assets/js/28.bb1dd1d1.js"><link rel="prefetch" href="/assets/js/29.3c4e22e4.js"><link rel="prefetch" href="/assets/js/3.12186190.js"><link rel="prefetch" href="/assets/js/30.2f612343.js"><link rel="prefetch" href="/assets/js/31.bb36e762.js"><link rel="prefetch" href="/assets/js/32.d9a27874.js"><link rel="prefetch" href="/assets/js/33.41cad49e.js"><link rel="prefetch" href="/assets/js/34.48c9cd36.js"><link rel="prefetch" href="/assets/js/35.670feed8.js"><link rel="prefetch" href="/assets/js/36.4e4025ea.js"><link rel="prefetch" href="/assets/js/37.f9544d59.js"><link rel="prefetch" href="/assets/js/38.0a79d2ef.js"><link rel="prefetch" href="/assets/js/39.7e6f626d.js"><link rel="prefetch" href="/assets/js/4.688aea8c.js"><link rel="prefetch" href="/assets/js/40.6049d25c.js"><link rel="prefetch" href="/assets/js/41.efaf9086.js"><link rel="prefetch" href="/assets/js/42.7ec5f386.js"><link rel="prefetch" href="/assets/js/43.73882f4b.js"><link rel="prefetch" href="/assets/js/44.bd9237b2.js"><link rel="prefetch" href="/assets/js/45.b82bdc89.js"><link rel="prefetch" href="/assets/js/46.964042e4.js"><link rel="prefetch" href="/assets/js/47.1ac801fb.js"><link rel="prefetch" href="/assets/js/48.96bd249c.js"><link rel="prefetch" href="/assets/js/49.efa4ffbd.js"><link rel="prefetch" href="/assets/js/5.06dc3e30.js"><link rel="prefetch" href="/assets/js/50.26a6f561.js"><link rel="prefetch" href="/assets/js/51.e697ab24.js"><link rel="prefetch" href="/assets/js/52.2b4ed74b.js"><link rel="prefetch" href="/assets/js/53.1d40565d.js"><link rel="prefetch" href="/assets/js/54.23dd5509.js"><link rel="prefetch" href="/assets/js/55.97638dfd.js"><link rel="prefetch" href="/assets/js/56.a6a789a7.js"><link rel="prefetch" href="/assets/js/57.46a9e477.js"><link rel="prefetch" href="/assets/js/58.a2605148.js"><link rel="prefetch" href="/assets/js/59.b61f348e.js"><link rel="prefetch" href="/assets/js/6.cd1b69bf.js"><link rel="prefetch" href="/assets/js/60.45ce71dc.js"><link rel="prefetch" href="/assets/js/61.422d8ce0.js"><link rel="prefetch" href="/assets/js/62.708dfa97.js"><link rel="prefetch" href="/assets/js/63.bf87eca7.js"><link rel="prefetch" href="/assets/js/64.849b066d.js"><link rel="prefetch" href="/assets/js/65.312217c0.js"><link rel="prefetch" href="/assets/js/66.a538fe2e.js"><link rel="prefetch" href="/assets/js/67.ee990cae.js"><link rel="prefetch" href="/assets/js/68.1ecf9924.js"><link rel="prefetch" href="/assets/js/69.adc481ab.js"><link rel="prefetch" href="/assets/js/7.0bd1884d.js"><link rel="prefetch" href="/assets/js/70.7bf35175.js"><link rel="prefetch" href="/assets/js/71.13d875f2.js"><link rel="prefetch" href="/assets/js/72.13c32246.js"><link rel="prefetch" href="/assets/js/73.dabe70e7.js"><link rel="prefetch" href="/assets/js/74.a012e667.js"><link rel="prefetch" href="/assets/js/75.82d9cd14.js"><link rel="prefetch" href="/assets/js/76.56e29578.js"><link rel="prefetch" href="/assets/js/77.3c04b332.js"><link rel="prefetch" href="/assets/js/78.a98bdb60.js"><link rel="prefetch" href="/assets/js/79.d05db886.js"><link rel="prefetch" href="/assets/js/8.f75bda51.js"><link rel="prefetch" href="/assets/js/80.669f2672.js"><link rel="prefetch" href="/assets/js/81.107cd6be.js"><link rel="prefetch" href="/assets/js/82.f1569a57.js"><link rel="prefetch" href="/assets/js/83.f648dac4.js"><link rel="prefetch" href="/assets/js/84.b5b6802a.js"><link rel="prefetch" href="/assets/js/85.b049a798.js"><link rel="prefetch" href="/assets/js/86.c5af02d1.js"><link rel="prefetch" href="/assets/js/87.4a7e9da8.js"><link rel="prefetch" href="/assets/js/88.889dec42.js"><link rel="prefetch" href="/assets/js/89.f44762c6.js"><link rel="prefetch" href="/assets/js/9.0cf90f60.js"><link rel="prefetch" href="/assets/js/90.2e3fc763.js"><link rel="prefetch" href="/assets/js/91.cd601f08.js"><link rel="prefetch" href="/assets/js/92.e0274556.js"><link rel="prefetch" href="/assets/js/93.f6c134ff.js"><link rel="prefetch" href="/assets/js/94.8df97042.js"><link rel="prefetch" href="/assets/js/95.ae4a963c.js"><link rel="prefetch" href="/assets/js/96.d4e1513c.js"><link rel="prefetch" href="/assets/js/97.489e7496.js"><link rel="prefetch" href="/assets/js/98.9def64cf.js"><link rel="prefetch" href="/assets/js/99.14a64144.js">
    <link rel="stylesheet" href="/assets/css/0.styles.74fd5345.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/hadoop.jpeg" alt="Hadoop中文网" class="logo"> <span class="site-name can-hide">Hadoop中文网</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/docs/releases/" class="nav-link">下载安装</a></div><div class="nav-item"><a href="/docs/" class="nav-link router-link-active">参考文档</a></div><div class="nav-item"><a href="/docs/awesome/" class="nav-link">资源教程</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="选择语言" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/" class="nav-link router-link-active">简体中文</a></li><li class="dropdown-item"><!----> <a href="/docs/en/" class="nav-link">English</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/docs/releases/" class="nav-link">下载安装</a></div><div class="nav-item"><a href="/docs/" class="nav-link router-link-active">参考文档</a></div><div class="nav-item"><a href="/docs/awesome/" class="nav-link">资源教程</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="选择语言" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/" class="nav-link router-link-active">简体中文</a></li><li class="dropdown-item"><!----> <a href="/docs/en/" class="nav-link">English</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>General</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Common</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HDFS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>MapReduce</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>MapReduce REST APIs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>YARN</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/hadoop-yarn/hadoop-yarn-site/YARN.html" class="sidebar-link">Architecture</a></li><li><a href="/docs/hadoop-yarn/hadoop-yarn-site/YarnCommands.html" class="sidebar-link">Commands Reference</a></li><li><a href="/docs/hadoop-yarn/hadoop-yarn-site/CapacityScheduler.html" class="sidebar-link">Capacity Scheduler</a></li><li><a href="/docs/hadoop-yarn/hadoop-yarn-site/FairScheduler.html" class="sidebar-link">Fair Scheduler</a></li><li><a href="/docs/hadoop-yarn/hadoop-yarn-site/ResourceManagerRestart.html" class="sidebar-link">ResourceManager Restart</a></li><li><a href="/docs/hadoop-yarn/hadoop-yarn-site/ResourceManagerHA.html" class="active sidebar-link">ResourceManager HA</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/hadoop-yarn/hadoop-yarn-site/ResourceManagerHA.html#introduction" class="sidebar-link">Introduction</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-yarn/hadoop-yarn-site/ResourceManagerHA.html#architecture" class="sidebar-link">Architecture</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/hadoop-yarn/hadoop-yarn-site/ResourceManagerHA.html#rm-failover" class="sidebar-link">RM Failover</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-yarn/hadoop-yarn-site/ResourceManagerHA.html#recovering-previous-active-rm’s-state" class="sidebar-link">Recovering previous active-RM’s state</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/hadoop-yarn/hadoop-yarn-site/ResourceManagerHA.html#deployment" class="sidebar-link">Deployment</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/hadoop-yarn/hadoop-yarn-site/ResourceManagerHA.html#configurations" class="sidebar-link">Configurations</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-yarn/hadoop-yarn-site/ResourceManagerHA.html#admin-commands" class="sidebar-link">Admin commands</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-yarn/hadoop-yarn-site/ResourceManagerHA.html#resourcemanager-web-ui-services" class="sidebar-link">ResourceManager Web UI services</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-yarn/hadoop-yarn-site/ResourceManagerHA.html#web-services" class="sidebar-link">Web Services</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-yarn/hadoop-yarn-site/ResourceManagerHA.html#load-balancer-setup" class="sidebar-link">Load Balancer Setup</a></li></ul></li></ul></li><li><a href="/docs/hadoop-yarn/hadoop-yarn-site/ResourceModel.html" class="sidebar-link">Resource Model</a></li><li><a href="/docs/hadoop-yarn/hadoop-yarn-site/NodeLabel.html" class="sidebar-link">Node Labels</a></li><li><a href="/docs/hadoop-yarn/hadoop-yarn-site/NodeAttributes.html" class="sidebar-link">Node Attributes</a></li><li><a href="/docs/hadoop-yarn/hadoop-yarn-site/WebApplicationProxy.html" class="sidebar-link">Web Application Proxy</a></li><li><a href="/docs/hadoop-yarn/hadoop-yarn-site/TimelineServer.html" class="sidebar-link">Timeline Server</a></li><li><a href="/docs/hadoop-yarn/hadoop-yarn-site/TimelineServiceV2.html" class="sidebar-link">Timeline Service V.2</a></li><li><a href="/docs/hadoop-yarn/hadoop-yarn-site/WritingYarnApplications.html" class="sidebar-link">Writing YARN Applications</a></li><li><a href="/docs/hadoop-yarn/hadoop-yarn-site/YarnApplicationSecurity.html" class="sidebar-link">YARN Application Security</a></li><li><a href="/docs/hadoop-yarn/hadoop-yarn-site/NodeManager.html" class="sidebar-link">NodeManager</a></li><li><a href="/docs/hadoop-yarn/hadoop-yarn-site/DockerContainers.html" class="sidebar-link">Running Applications in Docker Containers</a></li><li><a href="/docs/hadoop-yarn/hadoop-yarn-site/NodeManagerCgroups.html" class="sidebar-link">Using CGroups</a></li><li><a href="/docs/hadoop-yarn/hadoop-yarn-site/SecureContainer.html" class="sidebar-link">Secure Containers</a></li><li><a href="/docs/hadoop-yarn/hadoop-yarn-site/registry/" class="sidebar-link">Registry</a></li><li><a href="/docs/hadoop-yarn/hadoop-yarn-site/ReservationSystem.html" class="sidebar-link">Reservation System</a></li><li><a href="/docs/hadoop-yarn/hadoop-yarn-site/GracefulDecommission.html" class="sidebar-link">Graceful Decommission</a></li><li><a href="/docs/hadoop-yarn/hadoop-yarn-site/OpportunisticContainers.html" class="sidebar-link">Opportunistic Containers</a></li><li><a href="/docs/hadoop-yarn/hadoop-yarn-site/Federation.html" class="sidebar-link">YARN Federation</a></li><li><a href="/docs/hadoop-yarn/hadoop-yarn-site/SharedCache.html" class="sidebar-link">Shared Cache</a></li><li><a href="/docs/hadoop-yarn/hadoop-yarn-site/UsingGpus.html" class="sidebar-link">Using GPU</a></li><li><a href="/docs/hadoop-yarn/hadoop-yarn-site/UsingFPGA.html" class="sidebar-link">Using FPGA</a></li><li><a href="/docs/hadoop-yarn/hadoop-yarn-site/PlacementConstraints.html" class="sidebar-link">Placement Constraints</a></li><li><a href="/docs/hadoop-yarn/hadoop-yarn-site/YarnUI2.html" class="sidebar-link">YARN UI2</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>YARN REST APIs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>YARN Service</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Submarine</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Hadoop Compatible File Systems</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Auth</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Tools</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Reference</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>配置</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="resourcemanager-high-availability"><a href="#resourcemanager-high-availability" aria-hidden="true" class="header-anchor">#</a> ResourceManager High Availability</h1> <h2 id="introduction"><a href="#introduction" aria-hidden="true" class="header-anchor">#</a> Introduction</h2> <p>This guide provides an overview of High Availability of YARN’s ResourceManager, and details how to configure and use this feature. The ResourceManager (RM) is responsible for tracking the resources in a cluster, and scheduling applications (e.g., MapReduce jobs). Prior to Hadoop 2.4, the ResourceManager is the single point of failure in a YARN cluster. The High Availability feature adds redundancy in the form of an Active/Standby ResourceManager pair to remove this otherwise single point of failure.</p> <h2 id="architecture"><a href="#architecture" aria-hidden="true" class="header-anchor">#</a> Architecture</h2> <img src="/rm-ha-overview.png" alt="Overview of ResourceManager High Availability"> <h3 id="rm-failover"><a href="#rm-failover" aria-hidden="true" class="header-anchor">#</a> RM Failover</h3> <p>ResourceManager HA is realized through an Active/Standby architecture - at any point of time, one of the RMs is Active, and one or more RMs are in Standby mode waiting to take over should anything happen to the Active. The trigger to transition-to-active comes from either the admin (through CLI) or through the integrated failover-controller when automatic-failover is enabled.</p> <h4 id="manual-transitions-and-failover"><a href="#manual-transitions-and-failover" aria-hidden="true" class="header-anchor">#</a> Manual transitions and failover</h4> <p>When automatic failover is not enabled, admins have to manually transition one of the RMs to Active. To failover from one RM to the other, they are expected to first transition the Active-RM to Standby and transition a Standby-RM to Active. All this can be done using the “yarn rmadmin” CLI.</p> <h4 id="automatic-failover"><a href="#automatic-failover" aria-hidden="true" class="header-anchor">#</a> Automatic failover</h4> <p>The RMs have an option to embed the Zookeeper-based ActiveStandbyElector to decide which RM should be the Active. When the Active goes down or becomes unresponsive, another RM is automatically elected to be the Active which then takes over. Note that, there is no need to run a separate ZKFC daemon as is the case for HDFS because ActiveStandbyElector embedded in RMs acts as a failure detector and a leader elector instead of a separate ZKFC deamon.</p> <h4 id="client-applicationmaster-and-nodemanager-on-rm-failover"><a href="#client-applicationmaster-and-nodemanager-on-rm-failover" aria-hidden="true" class="header-anchor">#</a> Client, ApplicationMaster and NodeManager on RM failover</h4> <p>When there are multiple RMs, the configuration (yarn-site.xml) used by clients and nodes is expected to list all the RMs. Clients, ApplicationMasters (AMs) and NodeManagers (NMs) try connecting to the RMs in a round-robin fashion until they hit the Active RM. If the Active goes down, they resume the round-robin polling until they hit the “new” Active. This default retry logic is implemented as org.apache.hadoop.yarn.client.ConfiguredRMFailoverProxyProvider. You can override the logic by implementing org.apache.hadoop.yarn.client.RMFailoverProxyProvider and setting the value of yarn.client.failover-proxy-provider to the class name.</p> <h3 id="recovering-previous-active-rm’s-state"><a href="#recovering-previous-active-rm’s-state" aria-hidden="true" class="header-anchor">#</a> Recovering previous active-RM’s state</h3> <p>With the <a href="/docs/hadoop-yarn/hadoop-yarn-site/ResourceManagerRestart.html">ResourceManager Restart</a> enabled, the RM being promoted to an active state loads the RM internal state and continues to operate from where the previous active left off as much as possible depending on the RM restart feature. A new attempt is spawned for each managed application previously submitted to the RM. Applications can checkpoint periodically to avoid losing any work. The state-store must be visible from the both of Active/Standby RMs. Currently, there are two RMStateStore implementations for persistence - FileSystemRMStateStore and ZKRMStateStore. The ZKRMStateStore implicitly allows write access to a single RM at any point in time, and hence is the recommended store to use in an HA cluster. When using the ZKRMStateStore, there is no need for a separate fencing mechanism to address a potential split-brain situation where multiple RMs can potentially assume the Active role. When using the ZKRMStateStore, it is advisable to NOT set the “zookeeper.DigestAuthenticationProvider.superDigest” property on the Zookeeper cluster to ensure that the zookeeper admin does not have access to YARN application/user credential information.</p> <h2 id="deployment"><a href="#deployment" aria-hidden="true" class="header-anchor">#</a> Deployment</h2> <h3 id="configurations"><a href="#configurations" aria-hidden="true" class="header-anchor">#</a> Configurations</h3> <p>Most of the failover functionality is tunable using various configuration properties. Following is a list of required/important ones. yarn-default.xml carries a full-list of knobs. See <a href="../hadoop-yarn-common/yarn-default.xml">yarn-default.xml</a> for more information including default values. See the document for <a href="/docs/hadoop-yarn/hadoop-yarn-site/ResourceManagerRestart.html">ResourceManager Restart</a> also for instructions on setting up the state-store.</p> <table><thead><tr><th>Configuration Properties</th> <th>Description</th></tr></thead> <tbody><tr><td>hadoop.zk.address</td> <td>Address of the ZK-quorum. Used both for the state-store and embedded leader-election.</td></tr> <tr><td>yarn.resourcemanager.ha.enabled</td> <td>Enable RM HA.</td></tr> <tr><td>yarn.resourcemanager.ha.rm-ids</td> <td>List of logical IDs for the RMs. e.g., “rm1,rm2”.</td></tr> <tr><td>yarn.resourcemanager.hostname.rm-id</td> <td>For each rm-id, specify the hostname the RM corresponds to. Alternately, one could set each of the RM’s service addresses.</td></tr> <tr><td>yarn.resourcemanager.address.rm-id</td> <td>For each rm-id, specify host:port for clients to submit jobs. If set, overrides the hostname set in yarn.resourcemanager.hostname.rm-id.</td></tr> <tr><td>yarn.resourcemanager.scheduler.address.rm-id</td> <td>For each rm-id, specify scheduler host:port for ApplicationMasters to obtain resources. If set, overrides the hostname set in yarn.resourcemanager.hostname.rm-id.</td></tr> <tr><td>yarn.resourcemanager.resource-tracker.address.rm-id</td> <td>For each rm-id, specify host:port for NodeManagers to connect. If set, overrides the hostname set in yarn.resourcemanager.hostname.rm-id.</td></tr> <tr><td>yarn.resourcemanager.admin.address.rm-id</td> <td>For each rm-id, specify host:port for administrative commands. If set, overrides the hostname set in yarn.resourcemanager.hostname.rm-id.</td></tr> <tr><td>yarn.resourcemanager.webapp.address.rm-id</td> <td>For each rm-id, specify host:port of the RM web application corresponds to. You do not need this if you set yarn.http.policy to HTTPS_ONLY. If set, overrides the hostname set in yarn.resourcemanager.hostname.rm-id.</td></tr> <tr><td>yarn.resourcemanager.webapp.https.address.rm-id</td> <td>For each rm-id, specify host:port of the RM https web application corresponds to. You do not need this if you set yarn.http.policy to HTTP_ONLY. If set, overrides the hostname set in yarn.resourcemanager.hostname.rm-id.</td></tr> <tr><td>yarn.resourcemanager.ha.id</td> <td>Identifies the RM in the ensemble. This is optional; however, if set, admins have to ensure that all the RMs have their own IDs in the config.</td></tr> <tr><td>yarn.resourcemanager.ha.automatic-failover.enabled</td> <td>Enable automatic failover; By default, it is enabled only when HA is enabled.</td></tr> <tr><td>yarn.resourcemanager.ha.automatic-failover.embedded</td> <td>Use embedded leader-elector to pick the Active RM, when automatic failover is enabled. By default, it is enabled only when HA is enabled.</td></tr> <tr><td>yarn.resourcemanager.cluster-id</td> <td>Identifies the cluster. Used by the elector to ensure an RM doesn’t take over as Active for another cluster.</td></tr> <tr><td>yarn.client.failover-proxy-provider</td> <td>The class to be used by Clients, AMs and NMs to failover to the Active RM.</td></tr> <tr><td>yarn.client.failover-max-attempts</td> <td>The max number of times FailoverProxyProvider should attempt failover.</td></tr> <tr><td>yarn.client.failover-sleep-base-ms</td> <td>The sleep base (in milliseconds) to be used for calculating the exponential delay between failovers.</td></tr> <tr><td>yarn.client.failover-sleep-max-ms</td> <td>The maximum sleep time (in milliseconds) between failovers.</td></tr> <tr><td>yarn.client.failover-retries</td> <td>The number of retries per attempt to connect to a ResourceManager.</td></tr> <tr><td>yarn.client.failover-retries-on-socket-timeouts</td> <td>The number of retries per attempt to connect to a ResourceManager on socket timeouts.</td></tr></tbody></table> <h4 id="sample-configurations"><a href="#sample-configurations" aria-hidden="true" class="header-anchor">#</a> Sample configurations</h4> <p>Here is the sample of minimal setup for RM failover.</p> <pre><code>&lt;property&gt;
  &lt;name&gt;yarn.resourcemanager.ha.enabled&lt;/name&gt;
  &lt;value&gt;true&lt;/value&gt;
&lt;/property&gt;
&lt;property&gt;
  &lt;name&gt;yarn.resourcemanager.cluster-id&lt;/name&gt;
  &lt;value&gt;cluster1&lt;/value&gt;
&lt;/property&gt;
&lt;property&gt;
  &lt;name&gt;yarn.resourcemanager.ha.rm-ids&lt;/name&gt;
  &lt;value&gt;rm1,rm2&lt;/value&gt;
&lt;/property&gt;
&lt;property&gt;
  &lt;name&gt;yarn.resourcemanager.hostname.rm1&lt;/name&gt;
  &lt;value&gt;master1&lt;/value&gt;
&lt;/property&gt;
&lt;property&gt;
  &lt;name&gt;yarn.resourcemanager.hostname.rm2&lt;/name&gt;
  &lt;value&gt;master2&lt;/value&gt;
&lt;/property&gt;
&lt;property&gt;
  &lt;name&gt;yarn.resourcemanager.webapp.address.rm1&lt;/name&gt;
  &lt;value&gt;master1:8088&lt;/value&gt;
&lt;/property&gt;
&lt;property&gt;
  &lt;name&gt;yarn.resourcemanager.webapp.address.rm2&lt;/name&gt;
  &lt;value&gt;master2:8088&lt;/value&gt;
&lt;/property&gt;
&lt;property&gt;
  &lt;name&gt;hadoop.zk.address&lt;/name&gt;
  &lt;value&gt;zk1:2181,zk2:2181,zk3:2181&lt;/value&gt;
&lt;/property&gt;
</code></pre> <h3 id="admin-commands"><a href="#admin-commands" aria-hidden="true" class="header-anchor">#</a> Admin commands</h3> <p>yarn rmadmin has a few HA-specific command options to check the health/state of an RM, and transition to Active/Standby. Commands for HA take service id of RM set by yarn.resourcemanager.ha.rm-ids as argument.</p> <pre><code> $ yarn rmadmin -getServiceState rm1
 active
 
 $ yarn rmadmin -getServiceState rm2
 standby
</code></pre> <p>If automatic failover is enabled, you can not use manual transition command. Though you can override this by –forcemanual flag, you need caution.</p> <pre><code> $ yarn rmadmin -transitionToStandby rm1
 Automatic failover is enabled for org.apache.hadoop.yarn.client.RMHAServiceTarget@1d8299fd
 Refusing to manually manage HA state, since it may cause
 a split-brain scenario or other incorrect state.
 If you are very sure you know what you are doing, please
 specify the forcemanual flag.
</code></pre> <p>See <a href="/docs/hadoop-yarn/hadoop-yarn-site/YarnCommands.html">YarnCommands</a> for more details.</p> <h3 id="resourcemanager-web-ui-services"><a href="#resourcemanager-web-ui-services" aria-hidden="true" class="header-anchor">#</a> ResourceManager Web UI services</h3> <p>Assuming a standby RM is up and running, the Standby automatically redirects all web requests to the Active, except for the “About” page.</p> <h3 id="web-services"><a href="#web-services" aria-hidden="true" class="header-anchor">#</a> Web Services</h3> <p>Assuming a standby RM is up and running, RM web-services described at <a href="/docs/hadoop-yarn/hadoop-yarn-site/ResourceManagerRest.html">ResourceManager REST APIs</a> when invoked on a standby RM are automatically redirected to the Active RM.</p> <h3 id="load-balancer-setup"><a href="#load-balancer-setup" aria-hidden="true" class="header-anchor">#</a> Load Balancer Setup</h3> <p>If you are running a set of ResourceManagers behind a Load Balancer (e.g. <a href="https://docs.microsoft.com/en-us/azure/load-balancer/load-balancer-custom-probe-overview" target="_blank" rel="noopener noreferrer">Azure<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> or <a href="https://docs.aws.amazon.com/elasticloadbalancing/latest/classic/elb-healthchecks.html" target="_blank" rel="noopener noreferrer">AWS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> ) and would like the Load Balancer to point to the active RM, you can use the /isActive HTTP endpoint as a health probe. <a href="http://RM_HOSTNAME/isActive" target="_blank" rel="noopener noreferrer">http://RM_HOSTNAME/isActive<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> will return a 200 status code response if the RM is in Active HA State, 405 otherwise.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/hadoop-yarn/hadoop-yarn-site/ResourceManagerRestart.html" class="prev">ResourceManager Restart</a></span> <span class="next"><a href="/docs/hadoop-yarn/hadoop-yarn-site/ResourceModel.html">Resource Model</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.1efbd24b.js" defer></script><script src="/assets/js/2.8cd1edd2.js" defer></script><script src="/assets/js/111.7b19b7ea.js" defer></script>
  </body>
</html>
