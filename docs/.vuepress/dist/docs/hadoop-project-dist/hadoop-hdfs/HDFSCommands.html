<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HDFS Commands Guide | Hadoop中文网</title>
    <meta name="description" content="Hadoop官方文档中文社区">
    
    
    <link rel="preload" href="/assets/css/0.styles.74fd5345.css" as="style"><link rel="preload" href="/assets/js/app.1efbd24b.js" as="script"><link rel="preload" href="/assets/js/2.8cd1edd2.js" as="script"><link rel="preload" href="/assets/js/64.849b066d.js" as="script"><link rel="prefetch" href="/assets/js/10.d1e9cb36.js"><link rel="prefetch" href="/assets/js/100.980e5915.js"><link rel="prefetch" href="/assets/js/101.8d7d02d7.js"><link rel="prefetch" href="/assets/js/102.95c1b6a2.js"><link rel="prefetch" href="/assets/js/103.267b2dad.js"><link rel="prefetch" href="/assets/js/104.5f5393b9.js"><link rel="prefetch" href="/assets/js/105.b94bd9f2.js"><link rel="prefetch" href="/assets/js/106.bae16a13.js"><link rel="prefetch" href="/assets/js/107.e044c70f.js"><link rel="prefetch" href="/assets/js/108.23a38edb.js"><link rel="prefetch" href="/assets/js/109.0f0a6fee.js"><link rel="prefetch" href="/assets/js/11.734039ee.js"><link rel="prefetch" href="/assets/js/110.c1880f58.js"><link rel="prefetch" href="/assets/js/111.7b19b7ea.js"><link rel="prefetch" href="/assets/js/112.96e710ae.js"><link rel="prefetch" href="/assets/js/113.58c2c2a4.js"><link rel="prefetch" href="/assets/js/114.fe548485.js"><link rel="prefetch" href="/assets/js/115.5f5ec12c.js"><link rel="prefetch" href="/assets/js/116.6b1478f0.js"><link rel="prefetch" href="/assets/js/117.f60ad574.js"><link rel="prefetch" href="/assets/js/118.3b54b45e.js"><link rel="prefetch" href="/assets/js/119.645b43ca.js"><link rel="prefetch" href="/assets/js/12.8b98cd3f.js"><link rel="prefetch" href="/assets/js/120.75c61ce0.js"><link rel="prefetch" href="/assets/js/121.a1c8b96e.js"><link rel="prefetch" href="/assets/js/122.efb675f6.js"><link rel="prefetch" href="/assets/js/123.8c26f134.js"><link rel="prefetch" href="/assets/js/124.2c5d5865.js"><link rel="prefetch" href="/assets/js/125.59af84e2.js"><link rel="prefetch" href="/assets/js/126.f8e7e11f.js"><link rel="prefetch" href="/assets/js/127.eefb2c1d.js"><link rel="prefetch" href="/assets/js/128.2df35959.js"><link rel="prefetch" href="/assets/js/129.21ce73d8.js"><link rel="prefetch" href="/assets/js/13.dcaa3aa9.js"><link rel="prefetch" href="/assets/js/130.a0488add.js"><link rel="prefetch" href="/assets/js/131.6f379af3.js"><link rel="prefetch" href="/assets/js/132.f1c9e6bf.js"><link rel="prefetch" href="/assets/js/133.63ed6868.js"><link rel="prefetch" href="/assets/js/134.c7facc8b.js"><link rel="prefetch" href="/assets/js/135.69334f44.js"><link rel="prefetch" href="/assets/js/136.745c3065.js"><link rel="prefetch" href="/assets/js/137.c3c82572.js"><link rel="prefetch" href="/assets/js/138.2ece7d2b.js"><link rel="prefetch" href="/assets/js/139.80c173cf.js"><link rel="prefetch" href="/assets/js/14.4bc9fc9e.js"><link rel="prefetch" href="/assets/js/140.31b78bba.js"><link rel="prefetch" href="/assets/js/141.0526e6fe.js"><link rel="prefetch" href="/assets/js/142.1e37476d.js"><link rel="prefetch" href="/assets/js/143.49542f86.js"><link rel="prefetch" href="/assets/js/144.d9461d7d.js"><link rel="prefetch" href="/assets/js/145.cec78feb.js"><link rel="prefetch" href="/assets/js/146.83d7155d.js"><link rel="prefetch" href="/assets/js/147.83b94365.js"><link rel="prefetch" href="/assets/js/148.a218bcf9.js"><link rel="prefetch" href="/assets/js/149.0b8d68d3.js"><link rel="prefetch" href="/assets/js/15.f1495a71.js"><link rel="prefetch" href="/assets/js/150.da4631dd.js"><link rel="prefetch" href="/assets/js/151.a8a1ef12.js"><link rel="prefetch" href="/assets/js/152.6bb37c33.js"><link rel="prefetch" href="/assets/js/153.4f3d9492.js"><link rel="prefetch" href="/assets/js/154.e7278750.js"><link rel="prefetch" href="/assets/js/155.18993967.js"><link rel="prefetch" href="/assets/js/156.716cbfb3.js"><link rel="prefetch" href="/assets/js/157.732f4fbf.js"><link rel="prefetch" href="/assets/js/158.d63ed267.js"><link rel="prefetch" href="/assets/js/159.2ffcecac.js"><link rel="prefetch" href="/assets/js/16.f665c0fb.js"><link rel="prefetch" href="/assets/js/160.896190df.js"><link rel="prefetch" href="/assets/js/161.a6e6a707.js"><link rel="prefetch" href="/assets/js/162.f53ecb46.js"><link rel="prefetch" href="/assets/js/163.0786070b.js"><link rel="prefetch" href="/assets/js/164.b4b45bba.js"><link rel="prefetch" href="/assets/js/165.9fde1a12.js"><link rel="prefetch" href="/assets/js/166.4de83080.js"><link rel="prefetch" href="/assets/js/167.827087c1.js"><link rel="prefetch" href="/assets/js/168.da9dd78d.js"><link rel="prefetch" href="/assets/js/169.5fdd3bda.js"><link rel="prefetch" href="/assets/js/17.e4ee18a4.js"><link rel="prefetch" href="/assets/js/170.7589d0a9.js"><link rel="prefetch" href="/assets/js/171.0dc81296.js"><link rel="prefetch" href="/assets/js/172.30b4b867.js"><link rel="prefetch" href="/assets/js/173.9c90fc90.js"><link rel="prefetch" href="/assets/js/174.6183d84e.js"><link rel="prefetch" href="/assets/js/175.1c9e6d1d.js"><link rel="prefetch" href="/assets/js/176.ead63ab4.js"><link rel="prefetch" href="/assets/js/177.c9fc6dbc.js"><link rel="prefetch" href="/assets/js/178.ac7192e3.js"><link rel="prefetch" href="/assets/js/179.30b7a108.js"><link rel="prefetch" href="/assets/js/18.679e1c4b.js"><link rel="prefetch" href="/assets/js/180.7e9ecf02.js"><link rel="prefetch" href="/assets/js/181.bf48d0ec.js"><link rel="prefetch" href="/assets/js/182.9b2b750a.js"><link rel="prefetch" href="/assets/js/183.583d06a0.js"><link rel="prefetch" href="/assets/js/184.268c43fd.js"><link rel="prefetch" href="/assets/js/185.acac94c9.js"><link rel="prefetch" href="/assets/js/186.df6338c3.js"><link rel="prefetch" href="/assets/js/187.8198a600.js"><link rel="prefetch" href="/assets/js/188.399f7a36.js"><link rel="prefetch" href="/assets/js/189.e281b2ce.js"><link rel="prefetch" href="/assets/js/19.c3df06ff.js"><link rel="prefetch" href="/assets/js/190.a1bd92de.js"><link rel="prefetch" href="/assets/js/191.6d6cb9be.js"><link rel="prefetch" href="/assets/js/192.b55454fc.js"><link rel="prefetch" href="/assets/js/193.31d47ee4.js"><link rel="prefetch" href="/assets/js/194.619fa647.js"><link rel="prefetch" href="/assets/js/195.c05e2717.js"><link rel="prefetch" href="/assets/js/196.5455e34a.js"><link rel="prefetch" href="/assets/js/197.c3ba1d50.js"><link rel="prefetch" href="/assets/js/198.3dcc1f5e.js"><link rel="prefetch" href="/assets/js/199.42657e5a.js"><link rel="prefetch" href="/assets/js/20.2006782a.js"><link rel="prefetch" href="/assets/js/200.e202d26f.js"><link rel="prefetch" href="/assets/js/201.9348c033.js"><link rel="prefetch" href="/assets/js/202.4530c36e.js"><link rel="prefetch" href="/assets/js/203.396a50cf.js"><link rel="prefetch" href="/assets/js/204.2ba7d16f.js"><link rel="prefetch" href="/assets/js/205.4d5c1148.js"><link rel="prefetch" href="/assets/js/206.c1150af9.js"><link rel="prefetch" href="/assets/js/207.d0fe1a93.js"><link rel="prefetch" href="/assets/js/208.a9b85cc2.js"><link rel="prefetch" href="/assets/js/209.aeec8fa7.js"><link rel="prefetch" href="/assets/js/21.ff9af4a3.js"><link rel="prefetch" href="/assets/js/210.56c4abe2.js"><link rel="prefetch" href="/assets/js/211.0a62945c.js"><link rel="prefetch" href="/assets/js/212.2e0a53b6.js"><link rel="prefetch" href="/assets/js/213.0c1e7628.js"><link rel="prefetch" href="/assets/js/214.4e70859b.js"><link rel="prefetch" href="/assets/js/215.89e3fd6e.js"><link rel="prefetch" href="/assets/js/216.ebee5911.js"><link rel="prefetch" href="/assets/js/217.65e6fb1a.js"><link rel="prefetch" href="/assets/js/218.3ec81244.js"><link rel="prefetch" href="/assets/js/219.fcd0a298.js"><link rel="prefetch" href="/assets/js/22.42333a57.js"><link rel="prefetch" href="/assets/js/220.2f0bcdf5.js"><link rel="prefetch" href="/assets/js/221.5cbab154.js"><link rel="prefetch" href="/assets/js/222.4fb150fa.js"><link rel="prefetch" href="/assets/js/223.6df2e934.js"><link rel="prefetch" href="/assets/js/224.2a82f981.js"><link rel="prefetch" href="/assets/js/225.f013043f.js"><link rel="prefetch" href="/assets/js/226.436d9a47.js"><link rel="prefetch" href="/assets/js/227.debf53b6.js"><link rel="prefetch" href="/assets/js/228.adb127d4.js"><link rel="prefetch" href="/assets/js/229.d712dd19.js"><link rel="prefetch" href="/assets/js/23.bd1919e0.js"><link rel="prefetch" href="/assets/js/230.0115051e.js"><link rel="prefetch" href="/assets/js/231.f329be38.js"><link rel="prefetch" href="/assets/js/232.78756dd7.js"><link rel="prefetch" href="/assets/js/233.8b606804.js"><link rel="prefetch" href="/assets/js/234.d77ff187.js"><link rel="prefetch" href="/assets/js/235.d0a44e10.js"><link rel="prefetch" href="/assets/js/236.a270bc77.js"><link rel="prefetch" href="/assets/js/237.bf93c463.js"><link rel="prefetch" href="/assets/js/238.ab9c0487.js"><link rel="prefetch" href="/assets/js/239.fb2c347a.js"><link rel="prefetch" href="/assets/js/24.4065fee5.js"><link rel="prefetch" href="/assets/js/240.0a508acb.js"><link rel="prefetch" href="/assets/js/241.e73f9042.js"><link rel="prefetch" href="/assets/js/242.5d119394.js"><link rel="prefetch" href="/assets/js/243.0852d377.js"><link rel="prefetch" href="/assets/js/244.aac64bc3.js"><link rel="prefetch" href="/assets/js/245.8c9f1e44.js"><link rel="prefetch" href="/assets/js/246.fc5d2c03.js"><link rel="prefetch" href="/assets/js/247.74303e39.js"><link rel="prefetch" href="/assets/js/248.f4fdd84f.js"><link rel="prefetch" href="/assets/js/249.b10c51fa.js"><link rel="prefetch" href="/assets/js/25.d95e2035.js"><link rel="prefetch" href="/assets/js/250.1a7ff4ed.js"><link rel="prefetch" href="/assets/js/251.b0d6c581.js"><link rel="prefetch" href="/assets/js/252.8a1f801c.js"><link rel="prefetch" href="/assets/js/253.58fa7f3f.js"><link rel="prefetch" href="/assets/js/254.8cb349b3.js"><link rel="prefetch" href="/assets/js/255.a83f3566.js"><link rel="prefetch" href="/assets/js/256.a517daf4.js"><link rel="prefetch" href="/assets/js/257.deedf7ab.js"><link rel="prefetch" href="/assets/js/258.389cd2fd.js"><link rel="prefetch" href="/assets/js/259.76aecfae.js"><link rel="prefetch" href="/assets/js/26.dcf843b3.js"><link rel="prefetch" href="/assets/js/260.6e818374.js"><link rel="prefetch" href="/assets/js/261.75c0cad1.js"><link rel="prefetch" href="/assets/js/262.29be1dd0.js"><link rel="prefetch" href="/assets/js/263.38b13d89.js"><link rel="prefetch" href="/assets/js/264.3be16df5.js"><link rel="prefetch" href="/assets/js/265.330233bb.js"><link rel="prefetch" href="/assets/js/266.edec9f04.js"><link rel="prefetch" href="/assets/js/267.fd6096d7.js"><link rel="prefetch" href="/assets/js/268.0cd40d5c.js"><link rel="prefetch" href="/assets/js/269.814f292a.js"><link rel="prefetch" href="/assets/js/27.bb2b9a5f.js"><link rel="prefetch" href="/assets/js/28.bb1dd1d1.js"><link rel="prefetch" href="/assets/js/29.3c4e22e4.js"><link rel="prefetch" href="/assets/js/3.12186190.js"><link rel="prefetch" href="/assets/js/30.2f612343.js"><link rel="prefetch" href="/assets/js/31.bb36e762.js"><link rel="prefetch" href="/assets/js/32.d9a27874.js"><link rel="prefetch" href="/assets/js/33.41cad49e.js"><link rel="prefetch" href="/assets/js/34.48c9cd36.js"><link rel="prefetch" href="/assets/js/35.670feed8.js"><link rel="prefetch" href="/assets/js/36.4e4025ea.js"><link rel="prefetch" href="/assets/js/37.f9544d59.js"><link rel="prefetch" href="/assets/js/38.0a79d2ef.js"><link rel="prefetch" href="/assets/js/39.7e6f626d.js"><link rel="prefetch" href="/assets/js/4.688aea8c.js"><link rel="prefetch" href="/assets/js/40.6049d25c.js"><link rel="prefetch" href="/assets/js/41.efaf9086.js"><link rel="prefetch" href="/assets/js/42.7ec5f386.js"><link rel="prefetch" href="/assets/js/43.73882f4b.js"><link rel="prefetch" href="/assets/js/44.bd9237b2.js"><link rel="prefetch" href="/assets/js/45.b82bdc89.js"><link rel="prefetch" href="/assets/js/46.964042e4.js"><link rel="prefetch" href="/assets/js/47.1ac801fb.js"><link rel="prefetch" href="/assets/js/48.96bd249c.js"><link rel="prefetch" href="/assets/js/49.efa4ffbd.js"><link rel="prefetch" href="/assets/js/5.06dc3e30.js"><link rel="prefetch" href="/assets/js/50.26a6f561.js"><link rel="prefetch" href="/assets/js/51.e697ab24.js"><link rel="prefetch" href="/assets/js/52.2b4ed74b.js"><link rel="prefetch" href="/assets/js/53.1d40565d.js"><link rel="prefetch" href="/assets/js/54.23dd5509.js"><link rel="prefetch" href="/assets/js/55.97638dfd.js"><link rel="prefetch" href="/assets/js/56.a6a789a7.js"><link rel="prefetch" href="/assets/js/57.46a9e477.js"><link rel="prefetch" href="/assets/js/58.a2605148.js"><link rel="prefetch" href="/assets/js/59.b61f348e.js"><link rel="prefetch" href="/assets/js/6.cd1b69bf.js"><link rel="prefetch" href="/assets/js/60.45ce71dc.js"><link rel="prefetch" href="/assets/js/61.422d8ce0.js"><link rel="prefetch" href="/assets/js/62.708dfa97.js"><link rel="prefetch" href="/assets/js/63.bf87eca7.js"><link rel="prefetch" href="/assets/js/65.312217c0.js"><link rel="prefetch" href="/assets/js/66.a538fe2e.js"><link rel="prefetch" href="/assets/js/67.ee990cae.js"><link rel="prefetch" href="/assets/js/68.1ecf9924.js"><link rel="prefetch" href="/assets/js/69.adc481ab.js"><link rel="prefetch" href="/assets/js/7.0bd1884d.js"><link rel="prefetch" href="/assets/js/70.7bf35175.js"><link rel="prefetch" href="/assets/js/71.13d875f2.js"><link rel="prefetch" href="/assets/js/72.13c32246.js"><link rel="prefetch" href="/assets/js/73.dabe70e7.js"><link rel="prefetch" href="/assets/js/74.a012e667.js"><link rel="prefetch" href="/assets/js/75.82d9cd14.js"><link rel="prefetch" href="/assets/js/76.56e29578.js"><link rel="prefetch" href="/assets/js/77.3c04b332.js"><link rel="prefetch" href="/assets/js/78.a98bdb60.js"><link rel="prefetch" href="/assets/js/79.d05db886.js"><link rel="prefetch" href="/assets/js/8.f75bda51.js"><link rel="prefetch" href="/assets/js/80.669f2672.js"><link rel="prefetch" href="/assets/js/81.107cd6be.js"><link rel="prefetch" href="/assets/js/82.f1569a57.js"><link rel="prefetch" href="/assets/js/83.f648dac4.js"><link rel="prefetch" href="/assets/js/84.b5b6802a.js"><link rel="prefetch" href="/assets/js/85.b049a798.js"><link rel="prefetch" href="/assets/js/86.c5af02d1.js"><link rel="prefetch" href="/assets/js/87.4a7e9da8.js"><link rel="prefetch" href="/assets/js/88.889dec42.js"><link rel="prefetch" href="/assets/js/89.f44762c6.js"><link rel="prefetch" href="/assets/js/9.0cf90f60.js"><link rel="prefetch" href="/assets/js/90.2e3fc763.js"><link rel="prefetch" href="/assets/js/91.cd601f08.js"><link rel="prefetch" href="/assets/js/92.e0274556.js"><link rel="prefetch" href="/assets/js/93.f6c134ff.js"><link rel="prefetch" href="/assets/js/94.8df97042.js"><link rel="prefetch" href="/assets/js/95.ae4a963c.js"><link rel="prefetch" href="/assets/js/96.d4e1513c.js"><link rel="prefetch" href="/assets/js/97.489e7496.js"><link rel="prefetch" href="/assets/js/98.9def64cf.js"><link rel="prefetch" href="/assets/js/99.14a64144.js">
    <link rel="stylesheet" href="/assets/css/0.styles.74fd5345.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/hadoop.jpeg" alt="Hadoop中文网" class="logo"> <span class="site-name can-hide">Hadoop中文网</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/docs/releases/" class="nav-link">下载安装</a></div><div class="nav-item"><a href="/docs/" class="nav-link router-link-active">参考文档</a></div><div class="nav-item"><a href="/docs/awesome/" class="nav-link">资源教程</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="选择语言" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/" class="nav-link router-link-active">简体中文</a></li><li class="dropdown-item"><!----> <a href="/docs/en/" class="nav-link">English</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/docs/releases/" class="nav-link">下载安装</a></div><div class="nav-item"><a href="/docs/" class="nav-link router-link-active">参考文档</a></div><div class="nav-item"><a href="/docs/awesome/" class="nav-link">资源教程</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="选择语言" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/" class="nav-link router-link-active">简体中文</a></li><li class="dropdown-item"><!----> <a href="/docs/en/" class="nav-link">English</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>General</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Common</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>HDFS</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsDesign.html" class="sidebar-link">Architecture</a></li><li><a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsUserGuide.html" class="sidebar-link">User Guide</a></li><li><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html" class="active sidebar-link">Commands Reference</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#overview" class="sidebar-link">Overview</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#user-commands" class="sidebar-link">User Commands</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#classpath" class="sidebar-link">classpath</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#dfs" class="sidebar-link">dfs</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#envvars" class="sidebar-link">envvars</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#fetchdt" class="sidebar-link">fetchdt</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#fsck" class="sidebar-link">fsck</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#getconf" class="sidebar-link">getconf</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#groups" class="sidebar-link">groups</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#httpfs" class="sidebar-link">httpfs</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#lssnapshottabledir" class="sidebar-link">lsSnapshottableDir</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#jmxget" class="sidebar-link">jmxget</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#oev" class="sidebar-link">oev</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#oiv" class="sidebar-link">oiv</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#oiv-legacy" class="sidebar-link">oiv_legacy</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#snapshotdiff" class="sidebar-link">snapshotDiff</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#version" class="sidebar-link">version</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#administration-commands" class="sidebar-link">Administration Commands</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#balancer" class="sidebar-link">balancer</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#cacheadmin" class="sidebar-link">cacheadmin</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#crypto" class="sidebar-link">crypto</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#datanode" class="sidebar-link">datanode</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#dfsadmin" class="sidebar-link">dfsadmin</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#dfsrouter" class="sidebar-link">dfsrouter</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#dfsrouteradmin" class="sidebar-link">dfsrouteradmin</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#diskbalancer" class="sidebar-link">diskbalancer</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#ec" class="sidebar-link">ec</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#haadmin" class="sidebar-link">haadmin</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#journalnode" class="sidebar-link">journalnode</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#mover" class="sidebar-link">mover</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#namenode" class="sidebar-link">namenode</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#nfs3" class="sidebar-link">nfs3</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#portmap" class="sidebar-link">portmap</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#secondarynamenode" class="sidebar-link">secondarynamenode</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#storagepolicies" class="sidebar-link">storagepolicies</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#zkfc" class="sidebar-link">zkfc</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#debug-commands" class="sidebar-link">Debug Commands</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#verifymeta" class="sidebar-link">verifyMeta</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#computemeta" class="sidebar-link">computeMeta</a></li><li class="sidebar-sub-header"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSCommands.html#recoverlease" class="sidebar-link">recoverLease</a></li></ul></li></ul></li><li><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSHighAvailabilityWithQJM.html" class="sidebar-link">NameNode HA With QJM</a></li><li><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSHighAvailabilityWithNFS.html" class="sidebar-link">NameNode HA With NFS</a></li><li><a href="/docs/hadoop-project-dist/hadoop-hdfs/Federation.html" class="sidebar-link">Federation</a></li><li><a href="/docs/hadoop-project-dist/hadoop-hdfs/ViewFs.html" class="sidebar-link">ViewFs</a></li><li><a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsSnapshots.html" class="sidebar-link">Snapshots</a></li><li><a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsEditsViewer.html" class="sidebar-link">Edits Viewer</a></li><li><a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsImageViewer.html" class="sidebar-link">Image Viewer</a></li><li><a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsPermissionsGuide.html" class="sidebar-link">Permissions and HDFS</a></li><li><a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsQuotaAdminGuide.html" class="sidebar-link">Quotas and HDFS</a></li><li><a href="/docs/hadoop-project-dist/hadoop-hdfs/LibHdfs.html" class="sidebar-link">libhdfs (C API)</a></li><li><a href="/docs/hadoop-project-dist/hadoop-hdfs/WebHDFS.html" class="sidebar-link">WebHDFS (REST API)</a></li><li><a href="/docs/hadoop-hdfs-httpfs/" class="sidebar-link">HttpFS</a></li><li><a href="/docs/hadoop-project-dist/hadoop-hdfs/ShortCircuitLocalReads.html" class="sidebar-link">Short Circuit Local Reads</a></li><li><a href="/docs/hadoop-project-dist/hadoop-hdfs/CentralizedCacheManagement.html" class="sidebar-link">Centralized Cache Management</a></li><li><a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsNfsGateway.html" class="sidebar-link">NFS Gateway</a></li><li><a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsRollingUpgrade.html" class="sidebar-link">Rolling Upgrade</a></li><li><a href="/docs/hadoop-project-dist/hadoop-hdfs/ExtendedAttributes.html" class="sidebar-link">Extended Attributes</a></li><li><a href="/docs/hadoop-project-dist/hadoop-hdfs/TransparentEncryption.html" class="sidebar-link">Transparent Encryption</a></li><li><a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsMultihoming.html" class="sidebar-link">Multihoming</a></li><li><a href="/docs/hadoop-project-dist/hadoop-hdfs/ArchivalStorage.html" class="sidebar-link">Storage Policies</a></li><li><a href="/docs/hadoop-project-dist/hadoop-hdfs/MemoryStorage.html" class="sidebar-link">Memory Storage Support</a></li><li><a href="/docs/hadoop-project-dist/hadoop-hdfs/SLGUserGuide.html" class="sidebar-link">Synthetic Load Generator</a></li><li><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSErasureCoding.html" class="sidebar-link">Erasure Coding</a></li><li><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSDiskbalancer.html" class="sidebar-link">Disk Balancer</a></li><li><a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsUpgradeDomain.html" class="sidebar-link">Upgrade Domain</a></li><li><a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsDataNodeAdminGuide.html" class="sidebar-link">DataNode Admin</a></li><li><a href="/docs/hadoop-project-dist/hadoop-hdfs-rbf/HDFSRouterFederation.html" class="sidebar-link">Router Federation</a></li><li><a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsProvidedStorage.html" class="sidebar-link">Provided Storage</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>MapReduce</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>MapReduce REST APIs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>YARN</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>YARN REST APIs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>YARN Service</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Submarine</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Hadoop Compatible File Systems</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Auth</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Tools</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Reference</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>配置</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="hdfs-commands-guide"><a href="#hdfs-commands-guide" aria-hidden="true" class="header-anchor">#</a> HDFS Commands Guide</h1> <h2 id="overview"><a href="#overview" aria-hidden="true" class="header-anchor">#</a> Overview</h2> <p>All HDFS commands are invoked by the bin/hdfs script. Running the hdfs script without any arguments prints the description for all commands.</p> <p>Usage: hdfs [SHELL_OPTIONS] COMMAND [GENERIC_OPTIONS] [COMMAND_OPTIONS]</p> <p>Hadoop has an option parsing framework that employs parsing generic options as well as running classes.</p> <table><thead><tr><th>COMMAND_OPTIONS</th> <th>Description</th></tr></thead> <tbody><tr><td>SHELL_OPTIONS</td> <td>The common set of shell options. These are documented on the <a href="/docs/hadoop-project-dist/hadoop-common/CommandsManual.html#Shell_Options">Commands Manual</a> page.</td></tr> <tr><td>GENERIC_OPTIONS</td> <td>The common set of options supported by multiple commands. See the Hadoop <a href="/docs/hadoop-project-dist/hadoop-common/CommandsManual.html#Generic_Options">Commands Manual</a> for more information.</td></tr> <tr><td>COMMAND COMMAND_OPTIONS</td> <td>Various commands with their options are described in the following sections. The commands have been grouped into User Commands and Administration Commands.</td></tr></tbody></table> <h2 id="user-commands"><a href="#user-commands" aria-hidden="true" class="header-anchor">#</a> User Commands</h2> <p>Commands useful for users of a hadoop cluster.</p> <h3 id="classpath"><a href="#classpath" aria-hidden="true" class="header-anchor">#</a> classpath</h3> <p>Usage: hdfs classpath [--glob |--jar <path> |-h |--help]</path></p> <table><thead><tr><th>COMMAND_OPTION</th> <th>Description</th></tr></thead> <tbody><tr><td>--glob</td> <td>expand wildcards</td></tr> <tr><td>--jar path</td> <td>write classpath as manifest in jar named path</td></tr> <tr><td>-h, --help</td> <td>print help</td></tr></tbody></table> <p>Prints the class path needed to get the Hadoop jar and the required libraries. If called without arguments, then prints the classpath set up by the command scripts, which is likely to contain wildcards in the classpath entries. Additional options print the classpath after wildcard expansion or write the classpath into the manifest of a jar file. The latter is useful in environments where wildcards cannot be used and the expanded classpath exceeds the maximum supported command line length.</p> <h3 id="dfs"><a href="#dfs" aria-hidden="true" class="header-anchor">#</a> dfs</h3> <p>Usage: hdfs dfs [COMMAND [COMMAND_OPTIONS]]</p> <p>Run a filesystem command on the file system supported in Hadoop. The various COMMAND_OPTIONS can be found at <a href="/docs/hadoop-project-dist/hadoop-common/FileSystemShell.html">File System Shell Guide</a>.</p> <h3 id="envvars"><a href="#envvars" aria-hidden="true" class="header-anchor">#</a> envvars</h3> <p>Usage: hdfs envvars</p> <p>display computed Hadoop environment variables.</p> <h3 id="fetchdt"><a href="#fetchdt" aria-hidden="true" class="header-anchor">#</a> fetchdt</h3> <p>Usage: hdfs fetchdt <opts> &lt;token_file_path&gt;</opts></p> <table><thead><tr><th>COMMAND_OPTION</th> <th>Description</th></tr></thead> <tbody><tr><td>--webservice NN_Url</td> <td>Url to contact NN on (starts with http or https)</td></tr> <tr><td>--renewer name</td> <td>Name of the delegation token renewer</td></tr> <tr><td>--cancel</td> <td>Cancel the delegation token</td></tr> <tr><td>--renew</td> <td>Renew the delegation token. Delegation token must have been fetched using the –renewer name option.</td></tr> <tr><td>--print</td> <td>Print the delegation token</td></tr> <tr><td>token_file_path</td> <td>File path to store the token into.</td></tr></tbody></table> <p>Gets Delegation Token from a NameNode. See <a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsUserGuide.html#fetchdt">fetchdt</a> for more info.</p> <h3 id="fsck"><a href="#fsck" aria-hidden="true" class="header-anchor">#</a> fsck</h3> <p>Usage:</p> <pre><code>   hdfs fsck &lt;path&gt;
          [-list-corruptfileblocks |
          [-move | -delete | -openforwrite]
          [-files [-blocks [-locations | -racks | -replicaDetails | -upgradedomains]]]
          [-includeSnapshots] [-showprogress]
          [-storagepolicies] [-maintenance]
          [-blockId &lt;blk_Id&gt;]
</code></pre> <table><thead><tr><th>COMMAND_OPTION</th> <th>Description</th></tr></thead> <tbody><tr><td>path</td> <td>Start checking from this path.</td></tr> <tr><td>-delete</td> <td>Delete corrupted files.</td></tr> <tr><td>-files</td> <td>Print out files being checked.</td></tr> <tr><td>-files -blocks</td> <td>Print out the block report</td></tr> <tr><td>-files -blocks -locations</td> <td>Print out locations for every block.</td></tr> <tr><td>-files -blocks -racks</td> <td>Print out network topology for data-node locations.</td></tr> <tr><td>-files -blocks -replicaDetails</td> <td>Print out each replica details.</td></tr> <tr><td>-files -blocks -upgradedomains</td> <td>Print out upgrade domains for every block.</td></tr> <tr><td>-includeSnapshots</td> <td>Include snapshot data if the given path indicates a snapshottable directory or there are snapshottable directories under it.</td></tr> <tr><td>-list-corruptfileblocks</td> <td>Print out list of missing blocks and files they belong to.</td></tr> <tr><td>-move</td> <td>Move corrupted files to /lost+found.</td></tr> <tr><td>-openforwrite</td> <td>Print out files opened for write.</td></tr> <tr><td>-showprogress</td> <td>Print out dots for progress in output. Default is OFF (no progress).</td></tr> <tr><td>-storagepolicies</td> <td>Print out storage policy summary for the blocks.</td></tr> <tr><td>-maintenance</td> <td>Print out maintenance state node details.</td></tr> <tr><td>-blockId</td> <td>Print out information about the block.</td></tr></tbody></table> <p>Runs the HDFS filesystem checking utility. See <a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsUserGuide.html#fsck">fsck</a> for more info.</p> <h3 id="getconf"><a href="#getconf" aria-hidden="true" class="header-anchor">#</a> getconf</h3> <p>Usage:</p> <pre><code>   hdfs getconf -namenodes
   hdfs getconf -secondaryNameNodes
   hdfs getconf -backupNodes
   hdfs getconf -journalNodes
   hdfs getconf -includeFile
   hdfs getconf -excludeFile
   hdfs getconf -nnRpcAddresses
   hdfs getconf -confKey [key]
</code></pre> <table><thead><tr><th>COMMAND_OPTION</th> <th>Description</th></tr></thead> <tbody><tr><td>-namenodes</td> <td>gets list of namenodes in the cluster.</td></tr> <tr><td>-secondaryNameNodes</td> <td>gets list of secondary namenodes in the cluster.</td></tr> <tr><td>-backupNodes</td> <td>gets list of backup nodes in the cluster.</td></tr> <tr><td>-journalNodes</td> <td>gets list of journal nodes in the cluster.</td></tr> <tr><td>-includeFile</td> <td>gets the include file path that defines the datanodes that can join the cluster.</td></tr> <tr><td>-excludeFile</td> <td>gets the exclude file path that defines the datanodes that need to decommissioned.</td></tr> <tr><td>-nnRpcAddresses</td> <td>gets the namenode rpc addresses</td></tr> <tr><td>-confKey [key]</td> <td>gets a specific key from the configuration</td></tr></tbody></table> <p>Gets configuration information from the configuration directory, post-processing.</p> <h3 id="groups"><a href="#groups" aria-hidden="true" class="header-anchor">#</a> groups</h3> <p>Usage: hdfs groups [username ...]</p> <p>Returns the group information given one or more usernames.</p> <h3 id="httpfs"><a href="#httpfs" aria-hidden="true" class="header-anchor">#</a> httpfs</h3> <p>Usage: hdfs httpfs</p> <p>Run HttpFS server, the HDFS HTTP Gateway.</p> <h3 id="lssnapshottabledir"><a href="#lssnapshottabledir" aria-hidden="true" class="header-anchor">#</a> lsSnapshottableDir</h3> <p>Usage: hdfs lsSnapshottableDir [-help]</p> <table><thead><tr><th>COMMAND_OPTION</th> <th>Description</th></tr></thead> <tbody><tr><td>-help</td> <td>print help</td></tr></tbody></table> <p>Get the list of snapshottable directories. When this is run as a super user, it returns all snapshottable directories. Otherwise it returns those directories that are owned by the current user.</p> <h3 id="jmxget"><a href="#jmxget" aria-hidden="true" class="header-anchor">#</a> jmxget</h3> <p>Usage: hdfs jmxget [-localVM ConnectorURL | -port port | -server mbeanserver | -service service]</p> <table><thead><tr><th>COMMAND_OPTION</th> <th>Description</th></tr></thead> <tbody><tr><td>-help</td> <td>print help</td></tr> <tr><td>-localVM ConnectorURL</td> <td>connect to the VM on the same machine</td></tr> <tr><td>-port mbean server port</td> <td>specify mbean server port, if missing it will try to connect to MBean Server in the same VM</td></tr> <tr><td>-server</td> <td>specify mbean server (localhost by default)</td></tr> <tr><td>-service NameNode</td> <td>DataNode</td></tr></tbody></table> <p>Dump JMX information from a service.</p> <h3 id="oev"><a href="#oev" aria-hidden="true" class="header-anchor">#</a> oev</h3> <p>Usage: hdfs oev [OPTIONS] -i INPUT_FILE -o OUTPUT_FILE</p> <h4 id="required-command-line-arguments"><a href="#required-command-line-arguments" aria-hidden="true" class="header-anchor">#</a> Required command line arguments:</h4> <table><thead><tr><th>COMMAND_OPTION</th> <th>Description</th></tr></thead> <tbody><tr><td>-i,--inputFile arg</td> <td>edits file to process, xml (case insensitive) extension means XML format, any other filename means binary format</td></tr> <tr><td>-o,--outputFile arg</td> <td>Name of output file. If the specified file exists, it will be overwritten, format of the file is determined by -p option</td></tr></tbody></table> <h4 id="optional-command-line-arguments"><a href="#optional-command-line-arguments" aria-hidden="true" class="header-anchor">#</a> Optional command line arguments:</h4> <table><thead><tr><th>COMMAND_OPTION</th> <th>Description</th></tr></thead> <tbody><tr><td>-f,--fix-txids</td> <td>Renumber the transaction IDs in the input, so that there are no gaps or invalid transaction IDs.</td></tr> <tr><td>-h,--help</td> <td>Display usage information and exit</td></tr> <tr><td>-r,--recover</td> <td>When reading binary edit logs, use recovery mode. This will give you the chance to skip corrupt parts of the edit log.</td></tr> <tr><td>-p,--processor arg</td> <td>Select which type of processor to apply against image file, currently supported processors are: binary (native binary format that Hadoop uses), xml (default, XML format), stats (prints statistics about edits file)</td></tr> <tr><td>-v,--verbose</td> <td>More verbose output, prints the input and output filenames, for processors that write to a file, also output to screen. On large image files this will dramatically increase processing time (default is false).</td></tr></tbody></table> <p>Hadoop offline edits viewer. See <a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsEditsViewer.html">Offline Edits Viewer Guide</a> for more info.</p> <h3 id="oiv"><a href="#oiv" aria-hidden="true" class="header-anchor">#</a> oiv</h3> <p>Usage: hdfs oiv [OPTIONS] -i INPUT_FILE</p> <h4 id="required-command-line-arguments-2"><a href="#required-command-line-arguments-2" aria-hidden="true" class="header-anchor">#</a> Required command line arguments:</h4> <table><thead><tr><th>COMMAND_OPTION</th> <th>Description</th></tr></thead> <tbody><tr><td>-i</td> <td>--inputFile input file</td></tr></tbody></table> <h4 id="optional-command-line-arguments-2"><a href="#optional-command-line-arguments-2" aria-hidden="true" class="header-anchor">#</a> Optional command line arguments:</h4> <table><thead><tr><th>COMMAND_OPTION</th> <th>Description</th></tr></thead> <tbody><tr><td>-o,--outputFile output file</td> <td>Specify the output filename, if the specified output processor generates one. If the specified file already exists, it is silently overwritten. (output to stdout by default) If the input file is an XML file, it also creates an <outputFile>.md5.</outputFile></td></tr> <tr><td>-p,--processor processor</td> <td>Specify the image processor to apply against the image file. Currently valid options are Web (default), XML, Delimited, FileDistribution and ReverseXML.</td></tr> <tr><td>-addr address</td> <td>Specify the address(host:port) to listen. (localhost:5978 by default). This option is used with Web processor.</td></tr> <tr><td>-maxSize size</td> <td>Specify the range [0, maxSize] of file sizes to be analyzed in bytes (128GB by default). This option is used with FileDistribution processor.</td></tr> <tr><td>-step size</td> <td>Specify the granularity of the distribution in bytes (2MB by default). This option is used with FileDistribution processor.</td></tr> <tr><td>-format</td> <td>Format the output result in a human-readable fashion rather than a number of bytes. (false by default). This option is used with FileDistribution processor.</td></tr> <tr><td>-delimiter arg</td> <td>Delimiting string to use with Delimited processor.</td></tr> <tr><td>-t,--temp temporary dir</td> <td>Use temporary dir to cache intermediate result to generate Delimited outputs. If not set, Delimited processor constructs the namespace in memory before outputting text.</td></tr> <tr><td>-h,--help</td> <td>Display the tool usage and help information and exit.</td></tr></tbody></table> <p>Hadoop Offline Image Viewer for image files in Hadoop 2.4 or up. See <a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsImageViewer.html">Offline Image Viewer Guide</a> for more info.</p> <h3 id="oiv-legacy"><a href="#oiv-legacy" aria-hidden="true" class="header-anchor">#</a> oiv_legacy</h3> <p>Usage: hdfs oiv_legacy [OPTIONS] -i INPUT_FILE -o OUTPUT_FILE</p> <table><thead><tr><th>COMMAND_OPTION</th> <th>Description</th></tr></thead> <tbody><tr><td>-i,--inputFile input file</td> <td>Specify the input fsimage file to process.</td></tr> <tr><td>-o,--outputFile output file</td> <td>Specify the output filename, if the specified output processor generates one. If the specified file already exists, it is silently overwritten.</td></tr></tbody></table> <h4 id="optional-command-line-arguments-3"><a href="#optional-command-line-arguments-3" aria-hidden="true" class="header-anchor">#</a> Optional command line arguments:</h4> <table><thead><tr><th>COMMAND_OPTION</th> <th>Description</th></tr></thead> <tbody><tr><td>-p</td> <td>--processor processor</td></tr> <tr><td>-maxSize size</td> <td>Specify the range [0, maxSize] of file sizes to be analyzed in bytes (128GB by default). This option is used with FileDistribution processor.</td></tr> <tr><td>-step size</td> <td>Specify the granularity of the distribution in bytes (2MB by default). This option is used with FileDistribution processor.</td></tr> <tr><td>-format</td> <td>Format the output result in a human-readable fashion rather than a number of bytes. (false by default). This option is used with FileDistribution processor.</td></tr> <tr><td>-skipBlocks</td> <td>Do not enumerate individual blocks within files. This may save processing time and outfile file space on namespaces with very large files. The Ls processor reads the blocks to correctly determine file sizes and ignores this option.</td></tr> <tr><td>-printToScreen</td> <td>Pipe output of processor to console as well as specified file. On extremely large namespaces, this may increase processing time by an order of magnitude.</td></tr> <tr><td>-delimiter arg</td> <td>When used in conjunction with the Delimited processor, replaces the default tab delimiter with the string specified by arg.</td></tr> <tr><td>-h</td> <td>--help</td></tr></tbody></table> <p>Hadoop offline image viewer for older versions of Hadoop. See <a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsImageViewer.html#oiv_legacy_Command">oiv_legacy Command</a> for more info.</p> <h3 id="snapshotdiff"><a href="#snapshotdiff" aria-hidden="true" class="header-anchor">#</a> snapshotDiff</h3> <p>Usage: hdfs snapshotDiff <path><fromSnapshot><toSnapshot></toSnapshot></fromSnapshot></path></p> <p>Determine the difference between HDFS snapshots. See the <a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsSnapshots.html#Get_Snapshots_Difference_Report">HDFS Snapshot Documentation</a> for more information.</p> <h3 id="version"><a href="#version" aria-hidden="true" class="header-anchor">#</a> version</h3> <p>Usage: hdfs version</p> <p>Prints the version.</p> <h2 id="administration-commands"><a href="#administration-commands" aria-hidden="true" class="header-anchor">#</a> Administration Commands</h2> <p>Commands useful for administrators of a hadoop cluster.</p> <h3 id="balancer"><a href="#balancer" aria-hidden="true" class="header-anchor">#</a> balancer</h3> <p>Usage:</p> <pre><code>    hdfs balancer
          [-policy &lt;policy&gt;]
          [-threshold &lt;threshold&gt;]
          [-exclude [-f &lt;hosts-file&gt; | &lt;comma-separated list of hosts&gt;]]
          [-include [-f &lt;hosts-file&gt; | &lt;comma-separated list of hosts&gt;]]
          [-source [-f &lt;hosts-file&gt; | &lt;comma-separated list of hosts&gt;]]
          [-blockpools &lt;comma-separated list of blockpool ids&gt;]
          [-idleiterations &lt;idleiterations&gt;]
          [-runDuringUpgrade]
</code></pre> <table><thead><tr><th>COMMAND_OPTION</th> <th>Description</th></tr></thead> <tbody><tr><td>-policy <policy></policy></td> <td>datanode (default): Cluster is balanced if each datanode is balanced.</td></tr></tbody></table> <p>blockpool: Cluster is balanced if each block pool in each datanode is balanced.<br>
-threshold <threshold> |  Percentage of disk capacity. This overwrites the default threshold.<br>
-exclude -f <hosts-file> | <comma-separated list="" of="" hosts=""> |  Excludes the specified datanodes from being balanced by the balancer.<br>
-include -f <hosts-file> | <comma-separated list="" of="" hosts=""> |  Includes only the specified datanodes to be balanced by the balancer.<br>
-source -f <hosts-file> | <comma-separated list="" of="" hosts=""> |  Pick only the specified datanodes as source nodes.<br>
-blockpools <comma-separated list="" of="" blockpool="" ids=""> |  The balancer will only run on blockpools included in this list.<br>
-idleiterations <iterations> |  Maximum number of idle iterations before exit. This overwrites the default idleiterations(5).<br>
-runDuringUpgrade  |  Whether to run the balancer during an ongoing HDFS upgrade. This is usually not desired since it will not affect used space on over-utilized machines.<br>
-h|--help  |  Display the tool usage and help information and exit.</iterations></comma-separated></comma-separated></hosts-file></comma-separated></hosts-file></comma-separated></hosts-file></threshold></p> <p>Runs a cluster balancing utility. An administrator can simply press Ctrl-C to stop the rebalancing process. See <a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsUserGuide.html#Balancer">Balancer</a> for more details.</p> <p>Note that the blockpool policy is more strict than the datanode policy.</p> <p>Besides the above command options, a pinning feature is introduced starting from 2.7.0 to prevent certain replicas from getting moved by balancer/mover. This pinning feature is disabled by default, and can be enabled by configuration property “dfs.datanode.block-pinning.enabled”. When enabled, this feature only affects blocks that are written to favored nodes specified in the create() call. This feature is useful when we want to maintain the data locality, for applications such as HBase regionserver.</p> <h3 id="cacheadmin"><a href="#cacheadmin" aria-hidden="true" class="header-anchor">#</a> cacheadmin</h3> <p>Usage:</p> <pre><code>hdfs cacheadmin [-addDirective -path &lt;path&gt; -pool &lt;pool-name&gt; [-force] [-replication &lt;replication&gt;] [-ttl &lt;time-to-live&gt;]]
hdfs cacheadmin [-modifyDirective -id &lt;id&gt; [-path &lt;path&gt;] [-force] [-replication &lt;replication&gt;] [-pool &lt;pool-name&gt;] [-ttl &lt;time-to-live&gt;]]
hdfs cacheadmin [-listDirectives [-stats] [-path &lt;path&gt;] [-pool &lt;pool&gt;] [-id &lt;id&gt;]]
hdfs cacheadmin [-removeDirective &lt;id&gt;]
hdfs cacheadmin [-removeDirectives -path &lt;path&gt;]
hdfs cacheadmin [-addPool &lt;name&gt; [-owner &lt;owner&gt;] [-group &lt;group&gt;] [-mode &lt;mode&gt;] [-limit &lt;limit&gt;] [-maxTtl &lt;maxTtl&gt;]]
hdfs cacheadmin [-modifyPool &lt;name&gt; [-owner &lt;owner&gt;] [-group &lt;group&gt;] [-mode &lt;mode&gt;] [-limit &lt;limit&gt;] [-maxTtl &lt;maxTtl&gt;]]
hdfs cacheadmin [-removePool &lt;name&gt;]
hdfs cacheadmin [-listPools [-stats] [&lt;name&gt;]]
hdfs cacheadmin [-help &lt;command-name&gt;]
</code></pre> <p>See the <a href="/docs/hadoop-project-dist/hadoop-hdfs/CentralizedCacheManagement.html#cacheadmin_command-line_interface">HDFS Cache Administration Documentation</a> for more information.</p> <h3 id="crypto"><a href="#crypto" aria-hidden="true" class="header-anchor">#</a> crypto</h3> <p>Usage:</p> <pre><code>  hdfs crypto -createZone -keyName &lt;keyName&gt; -path &lt;path&gt;
  hdfs crypto -listZones
  hdfs crypto -provisionTrash -path &lt;path&gt;
  hdfs crypto -help &lt;command-name&gt;
</code></pre> <p>See the <a href="/docs/hadoop-project-dist/hadoop-hdfs/TransparentEncryption.html#crypto_command-line_interface">HDFS Transparent Encryption Documentation</a> for more information.</p> <h3 id="datanode"><a href="#datanode" aria-hidden="true" class="header-anchor">#</a> datanode</h3> <p>Usage: hdfs datanode [-regular | -rollback | -rollingupgrade rollback]</p> <table><thead><tr><th>COMMAND_OPTION</th> <th>Description</th></tr></thead> <tbody><tr><td>-regular</td> <td>Normal datanode startup (default).</td></tr> <tr><td>-rollback</td> <td>Rollback the datanode to the previous version. This should be used after stopping the datanode and distributing the old hadoop version.</td></tr> <tr><td>-rollingupgrade rollback</td> <td>Rollback a rolling upgrade operation.</td></tr></tbody></table> <p>Runs a HDFS datanode.</p> <h3 id="dfsadmin"><a href="#dfsadmin" aria-hidden="true" class="header-anchor">#</a> dfsadmin</h3> <p>Usage:</p> <pre><code>    hdfs dfsadmin [-report [-live] [-dead] [-decommissioning] [-enteringmaintenance] [-inmaintenance]]
    hdfs dfsadmin [-safemode enter | leave | get | wait | forceExit]
    hdfs dfsadmin [-saveNamespace [-beforeShutdown]]
    hdfs dfsadmin [-rollEdits]
    hdfs dfsadmin [-restoreFailedStorage true |false |check]
    hdfs dfsadmin [-refreshNodes]
    hdfs dfsadmin [-setQuota &lt;quota&gt; &lt;dirname&gt;...&lt;dirname&gt;]
    hdfs dfsadmin [-clrQuota &lt;dirname&gt;...&lt;dirname&gt;]
    hdfs dfsadmin [-setSpaceQuota &lt;quota&gt; [-storageType &lt;storagetype&gt;] &lt;dirname&gt;...&lt;dirname&gt;]
    hdfs dfsadmin [-clrSpaceQuota [-storageType &lt;storagetype&gt;] &lt;dirname&gt;...&lt;dirname&gt;]
    hdfs dfsadmin [-finalizeUpgrade]
    hdfs dfsadmin [-rollingUpgrade [&lt;query&gt; |&lt;prepare&gt; |&lt;finalize&gt;]]
    hdfs dfsadmin [-upgrade [query | finalize]
    hdfs dfsadmin [-refreshServiceAcl]
    hdfs dfsadmin [-refreshUserToGroupsMappings]
    hdfs dfsadmin [-refreshSuperUserGroupsConfiguration]
    hdfs dfsadmin [-refreshCallQueue]
    hdfs dfsadmin [-refresh &lt;host:ipc_port&gt; &lt;key&gt; [arg1..argn]]
    hdfs dfsadmin [-reconfig &lt;namenode|datanode&gt; &lt;host:ipc_port&gt; &lt;start |status |properties&gt;]
    hdfs dfsadmin [-printTopology]
    hdfs dfsadmin [-refreshNamenodes datanodehost:port]
    hdfs dfsadmin [-getVolumeReport datanodehost:port]
    hdfs dfsadmin [-deleteBlockPool datanode-host:port blockpoolId [force]]
    hdfs dfsadmin [-setBalancerBandwidth &lt;bandwidth in bytes per second&gt;]
    hdfs dfsadmin [-getBalancerBandwidth &lt;datanode_host:ipc_port&gt;]
    hdfs dfsadmin [-fetchImage &lt;local directory&gt;]
    hdfs dfsadmin [-allowSnapshot &lt;snapshotDir&gt;]
    hdfs dfsadmin [-disallowSnapshot &lt;snapshotDir&gt;]
    hdfs dfsadmin [-shutdownDatanode &lt;datanode_host:ipc_port&gt; [upgrade]]
    hdfs dfsadmin [-evictWriters &lt;datanode_host:ipc_port&gt;]
    hdfs dfsadmin [-getDatanodeInfo &lt;datanode_host:ipc_port&gt;]
    hdfs dfsadmin [-metasave filename]
    hdfs dfsadmin [-triggerBlockReport [-incremental] &lt;datanode_host:ipc_port&gt;]
    hdfs dfsadmin [-listOpenFiles [-blockingDecommission] [-path &lt;path&gt;]]
    hdfs dfsadmin [-help [cmd]]
</code></pre> <table><thead><tr><th>COMMAND_OPTION</th> <th>Description</th></tr></thead> <tbody><tr><td>-report [-live] [-dead] [-decommissioning] [-enteringmaintenance] [-inmaintenance]</td> <td>Reports basic filesystem information and statistics, The dfs usage can be different from “du” usage, because it measures raw space used by replication, checksums, snapshots and etc. on all the DNs. Optional flags may be used to filter the list of displayed DataNodes.</td></tr> <tr><td>-safemode enter</td> <td>leave</td></tr></tbody></table> <p>1. does not accept changes to the name space (read-only)<br>
2. does not replicate or delete blocks.<br>
Safe mode is entered automatically at Namenode startup, and leaves safe mode automatically when the configured minimum percentage of blocks satisfies the minimum replication condition. If Namenode detects any anomaly then it will linger in safe mode till that issue is resolved. If that anomaly is the consequence of a deliberate action, then administrator can use -safemode forceExit to exit safe mode. The cases where forceExit may be required are<br>
1. Namenode metadata is not consistent. If Namenode detects that metadata has been modified out of band and can cause data loss, then Namenode will enter forceExit state. At that point user can either restart Namenode with correct metadata files or forceExit (if data loss is acceptable).<br>
2. Rollback causes metadata to be replaced and rarely it can trigger safe mode forceExit state in Namenode. In that case you may proceed by issuing -safemode forceExit.<br>
Safe mode can also be entered manually, but then it can only be turned off manually as well.<br>
-saveNamespace [-beforeShutdown]  |  Save current namespace into storage directories and reset edits log. Requires safe mode. If the “beforeShutdown” option is given, the NameNode does a checkpoint if and only if no checkpoint has been done during a time window (a configurable number of checkpoint periods). This is usually used before shutting down the NameNode to prevent potential fsimage/editlog corruption.<br>
-rollEdits  |  Rolls the edit log on the active NameNode.<br>
-restoreFailedStorage true|false|check  |  This option will turn on/off automatic attempt to restore failed storage replicas. If a failed storage becomes available again the system will attempt to restore edits and/or fsimage during checkpoint. ‘check’ option will return current setting.<br>
-refreshNodes  |  Re-read the hosts and exclude files to update the set of Datanodes that are allowed to connect to the Namenode and those that should be decommissioned or recommissioned.<br>
-setQuota <quota><dirname>…<dirname> |  See <a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsQuotaAdminGuide.html#Administrative_Commands">HDFS Quotas Guide</a> for the detail.<br>
-clrQuota <dirname>…<dirname> |  See <a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsQuotaAdminGuide.html#Administrative_Commands">HDFS Quotas Guide</a> for the detail.<br>
-setSpaceQuota <quota> [-storageType <storagetype>] <dirname>…<dirname> |  See <a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsQuotaAdminGuide.html#Administrative_Commands">HDFS Quotas Guide</a> for the detail.<br>
-clrSpaceQuota [-storageType <storagetype>] <dirname>…<dirname> |  See <a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsQuotaAdminGuide.html#Administrative_Commands">HDFS Quotas Guide</a> for the detail.<br>
-finalizeUpgrade  |  Finalize upgrade of HDFS. Datanodes delete their previous version working directories, followed by Namenode doing the same. This completes the upgrade process.<br>
-rollingUpgrade [<query>|<prepare>|<finalize>]  |  See <a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsRollingUpgrade.html#dfsadmin_-rollingUpgrade">Rolling Upgrade document</a> for the detail.<br>
-upgrade query|finalize  |  Query the current upgrade status.<br>
Finalize upgrade of HDFS (equivalent to -finalizeUpgrade).<br>
-refreshServiceAcl  |  Reload the service-level authorization policy file.<br>
-refreshUserToGroupsMappings  |  Refresh user-to-groups mappings.<br>
-refreshSuperUserGroupsConfiguration  |  Refresh superuser proxy groups mappings<br>
-refreshCallQueue  |  Reload the call queue from config.<br>
-refresh <a href="host:ipc_port">host:ipc_port</a> <key> [arg1..argn]  |  Triggers a runtime-refresh of the resource specified by <key> on <a href="host:ipc_port">host:ipc_port</a>. All other args after are sent to the host.<br>
-reconfig &lt;datanode |namenode&gt; <a href="host:ipc_port">host:ipc_port</a> &lt;start|status|properties&gt; |  Starts reconfiguration or gets the status of an ongoing reconfiguration, or gets a list of reconfigurable properties. The second parameter specifies the node type.<br>
-printTopology  |  Print a tree of the racks and their nodes as reported by the Namenode<br>
-refreshNamenodes datanodehost:port  |  For the given datanode, reloads the configuration files, stops serving the removed block-pools and starts serving new block-pools.<br>
-getVolumeReport datanodehost:port  |  For the given datanode, get the volume report.<br>
-deleteBlockPool datanode-host:port blockpoolId [force]  |  If force is passed, block pool directory for the given blockpool id on the given datanode is deleted along with its contents, otherwise the directory is deleted only if it is empty. The command will fail if datanode is still serving the block pool. Refer to refreshNamenodes to shutdown a block pool service on a datanode.<br>
-setBalancerBandwidth <bandwidth in="" bytes="" per="" second=""> |  Changes the network bandwidth used by each datanode during HDFS block balancing. <bandwidth> is the maximum number of bytes per second that will be used by each datanode. This value overrides the dfs.datanode.balance.bandwidthPerSec parameter. NOTE: The new value is not persistent on the DataNode.<br>
-getBalancerBandwidth &lt;datanode_host:ipc_port&gt; |  Get the network bandwidth(in bytes per second) for the given datanode. This is the maximum network bandwidth used by the datanode during HDFS block balancing.<br>
-fetchImage <local directory=""> |  Downloads the most recent fsimage from the NameNode and saves it in the specified local directory.<br>
-allowSnapshot <snapshotDir> |  Allowing snapshots of a directory to be created. If the operation completes successfully, the directory becomes snapshottable. See the <a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsSnapshots.html">HDFS Snapshot Documentation</a> for more information.<br>
-disallowSnapshot <snapshotDir> |  Disallowing snapshots of a directory to be created. All snapshots of the directory must be deleted before disallowing snapshots. See the <a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsSnapshots.html">HDFS Snapshot Documentation</a> for more information.<br>
-shutdownDatanode &lt;datanode_host:ipc_port&gt; [upgrade]  |  Submit a shutdown request for the given datanode. See <a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsRollingUpgrade.html#dfsadmin_-shutdownDatanode">Rolling Upgrade document</a> for the detail.<br>
-evictWriters &lt;datanode_host:ipc_port&gt; |  Make the datanode evict all clients that are writing a block. This is useful if decommissioning is hung due to slow writers.<br>
-getDatanodeInfo &lt;datanode_host:ipc_port&gt; |  Get the information about the given datanode. See <a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsRollingUpgrade.html#dfsadmin_-getDatanodeInfo">Rolling Upgrade document</a> for the detail.<br>
-metasave filename  |  Save Namenode’s primary data structures to filename in the directory specified by hadoop.log.dir property. filename is overwritten if it exists. filename will contain one line for each of the following<br>
1. Datanodes heart beating with Namenode<br>
2. Blocks waiting to be replicated<br>
3. Blocks currently being replicated<br>
4. Blocks waiting to be deleted<br>
-triggerBlockReport [-incremental] &lt;datanode_host:ipc_port&gt; |  Trigger a block report for the given datanode. If ‘incremental’ is specified, it will be otherwise, it will be a full block report.<br>
-listOpenFiles [-blockingDecommission] [-path <path>]  |  List all open files currently managed by the NameNode along with client name and client machine accessing them. Open files list will be filtered by given type and path. Add -blockingDecommission option if you only want to list open files that are blocking the DataNode decommissioning.<br>
-help [cmd]  |  Displays help for the given command or all commands if none is specified.</path></snapshotDir></snapshotDir></local></bandwidth></bandwidth></key></key></finalize></prepare></query></dirname></dirname></storagetype></dirname></dirname></storagetype></quota></dirname></dirname></dirname></dirname></quota></p> <p>Runs a HDFS dfsadmin client.</p> <h3 id="dfsrouter"><a href="#dfsrouter" aria-hidden="true" class="header-anchor">#</a> dfsrouter</h3> <p>Usage: hdfs dfsrouter</p> <p>Runs the DFS router. See <a href="/docs/hadoop-project-dist/hadoop-hdfs-rbf/HDFSRouterFederation.html#Router">Router</a> for more info.</p> <h3 id="dfsrouteradmin"><a href="#dfsrouteradmin" aria-hidden="true" class="header-anchor">#</a> dfsrouteradmin</h3> <p>Usage:</p> <pre><code>  hdfs dfsrouteradmin
      [-add &lt;source&gt; &lt;nameservice1, nameservice2, ...&gt; &lt;destination&gt; [-readonly] [-order HASH|LOCAL|RANDOM|HASH_ALL] -owner &lt;owner&gt; -group &lt;group&gt; -mode &lt;mode&gt;]
      [-update &lt;source&gt; &lt;nameservice1, nameservice2, ...&gt; &lt;destination&gt; [-readonly] [-order HASH|LOCAL|RANDOM|HASH_ALL] -owner &lt;owner&gt; -group &lt;group&gt; -mode &lt;mode&gt;]
      [-rm &lt;source&gt;]
      [-ls &lt;path&gt;]
      [-setQuota &lt;path&gt; -nsQuota &lt;nsQuota&gt; -ssQuota &lt;quota in bytes or quota size string&gt;]
      [-clrQuota &lt;path&gt;]
      [-safemode enter | leave | get]
      [-nameservice disable | enable &lt;nameservice&gt;]
      [-getDisabledNameservices]
</code></pre> <table><thead><tr><th>COMMAND_OPTION</th> <th>Description</th></tr></thead> <tbody><tr><td>-add source nameservices destination</td> <td>Add a mount table entry or update if it exists.</td></tr> <tr><td>-update source nameservices destination</td> <td>Update a mount table entry or create one if it does not exist.</td></tr> <tr><td>-rm source</td> <td>Remove mount point of specified path.</td></tr> <tr><td>-ls path</td> <td>List mount points under specified path.</td></tr> <tr><td>-setQuota path -nsQuota nsQuota -ssQuota ssQuota</td> <td>Set quota for specified path. See <a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsQuotaAdminGuide.html">HDFS Quotas Guide</a> for the quota detail.</td></tr> <tr><td>-clrQuota path</td> <td>Clear quota of given mount point. See <a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsQuotaAdminGuide.html">HDFS Quotas Guide</a> for the quota detail.</td></tr> <tr><td>-safemode enter leave get</td> <td>Manually set the Router entering or leaving safe mode. The option get will be used for verifying if the Router is in safe mode state.</td></tr> <tr><td>-nameservice disable enable nameservice</td> <td>Disable/enable a name service from the federation. If disabled, requests will not go to that name service.</td></tr> <tr><td>-getDisabledNameservices</td> <td>Get the name services that are disabled in the federation.</td></tr></tbody></table> <p>The commands for managing Router-based federation. See <a href="/docs/hadoop-project-dist/hadoop-hdfs-rbf/HDFSRouterFederation.html#Mount_table_management">Mount table management</a> for more info.</p> <h3 id="diskbalancer"><a href="#diskbalancer" aria-hidden="true" class="header-anchor">#</a> diskbalancer</h3> <p>Usage:</p> <pre><code>   hdfs diskbalancer
     [-plan &lt;datanode&gt; -fs &lt;namenodeURI&gt;]
     [-execute &lt;planfile&gt;]
     [-query &lt;datanode&gt;]
     [-cancel &lt;planfile&gt;]
     [-cancel &lt;planID&gt; -node &lt;datanode&gt;]
     [-report -node &lt;file://&gt; | [&lt;DataNodeID|IP|Hostname&gt;,...]]
     [-report -node -top &lt;topnum&gt;]
</code></pre> <table><thead><tr><th>COMMAND_OPTION</th> <th>Description</th></tr></thead> <tbody><tr><td>-plan</td> <td>Creates a disbalancer plan</td></tr> <tr><td>-execute</td> <td>Executes a given plan on a datanode</td></tr> <tr><td>-query</td> <td>Gets the current diskbalancer status from a datanode</td></tr> <tr><td>-cancel</td> <td>Cancels a running plan</td></tr> <tr><td>-report</td> <td>Reports the volume information from datanode(s)</td></tr></tbody></table> <p>Runs the diskbalancer CLI. See <a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSDiskbalancer.html">HDFS Diskbalancer</a> for more information on this command.</p> <h3 id="ec"><a href="#ec" aria-hidden="true" class="header-anchor">#</a> ec</h3> <p>Usage:</p> <pre><code>   hdfs ec [generic options]
     [-setPolicy -policy &lt;policyName&gt; -path &lt;path&gt;]
     [-getPolicy -path &lt;path&gt;]
     [-unsetPolicy -path &lt;path&gt;]
     [-listPolicies]
     [-addPolicies -policyFile &lt;file&gt;]
     [-listCodecs]
     [-enablePolicy -policy &lt;policyName&gt;]
     [-disablePolicy -policy &lt;policyName&gt;]
     [-help [cmd ...]]
</code></pre> <table><thead><tr><th>COMMAND_OPTION</th> <th>Description</th></tr></thead> <tbody><tr><td>-setPolicy</td> <td>Set a specified ErasureCoding policy to a directory</td></tr> <tr><td>-getPolicy</td> <td>Get ErasureCoding policy information about a specified path</td></tr> <tr><td>-unsetPolicy</td> <td>Unset an ErasureCoding policy set by a previous call to “setPolicy” on a directory</td></tr> <tr><td>-listPolicies</td> <td>Lists all supported ErasureCoding policies</td></tr> <tr><td>-addPolicies</td> <td>Add a list of erasure coding policies</td></tr> <tr><td>-listCodecs</td> <td>Get the list of supported erasure coding codecs and coders in system</td></tr> <tr><td>-enablePolicy</td> <td>Enable an ErasureCoding policy in system</td></tr> <tr><td>-disablePolicy</td> <td>Disable an ErasureCoding policy in system</td></tr></tbody></table> <p>Runs the ErasureCoding CLI. See <a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSErasureCoding.html#Administrative_commands">HDFS ErasureCoding</a> for more information on this command.</p> <h3 id="haadmin"><a href="#haadmin" aria-hidden="true" class="header-anchor">#</a> haadmin</h3> <p>Usage:</p> <pre><code>    hdfs haadmin -transitionToActive &lt;serviceId&gt; [--forceactive]
    hdfs haadmin -transitionToStandby &lt;serviceId&gt;
    hdfs haadmin -transitionToObserver &lt;serviceId&gt;
    hdfs haadmin -failover [--forcefence] [--forceactive] &lt;serviceId&gt; &lt;serviceId&gt;
    hdfs haadmin -getServiceState &lt;serviceId&gt;
    hdfs haadmin -getAllServiceState
    hdfs haadmin -checkHealth &lt;serviceId&gt;
    hdfs haadmin -help &lt;command&gt;
</code></pre> <table><thead><tr><th>COMMAND_OPTION</th> <th>Description</th></tr></thead> <tbody><tr><td>-checkHealth</td> <td>check the health of the given NameNode</td></tr> <tr><td>-failover</td> <td>initiate a failover between two NameNodes</td></tr> <tr><td>-getServiceState</td> <td>determine whether the given NameNode is Active or Standby</td></tr> <tr><td>-getAllServiceState</td> <td>returns the state of all the NameNodes</td></tr> <tr><td>-transitionToActive</td> <td>transition the state of the given NameNode to Active (Warning: No fencing is done)</td></tr> <tr><td>-transitionToStandby</td> <td>transition the state of the given NameNode to Standby (Warning: No fencing is done)</td></tr> <tr><td>-transitionToObserver</td> <td>transition the state of the given NameNode to Observer (Warning: No fencing is done)</td></tr> <tr><td>-help [cmd]</td> <td>Displays help for the given command or all commands if none is specified.</td></tr></tbody></table> <p>See <a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSHighAvailabilityWithNFS.html#Administrative_commands">HDFS HA with NFS</a> or <a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSHighAvailabilityWithQJM.html#Administrative_commands">HDFS HA with QJM</a> for more information on this command.</p> <h3 id="journalnode"><a href="#journalnode" aria-hidden="true" class="header-anchor">#</a> journalnode</h3> <p>Usage: hdfs journalnode</p> <p>This comamnd starts a journalnode for use with <a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSHighAvailabilityWithQJM.html#Administrative_commands">HDFS HA with QJM</a>.</p> <h3 id="mover"><a href="#mover" aria-hidden="true" class="header-anchor">#</a> mover</h3> <p>Usage: hdfs mover [-p &lt;files/dirs&gt; | -f <local file="" name="">]</local></p> <table><thead><tr><th>COMMAND_OPTION</th> <th>Description</th></tr></thead> <tbody><tr><td>-f <local file=""></local></td> <td>Specify a local file containing a list of HDFS files/dirs to migrate.</td></tr> <tr><td>-p &lt;files/dirs&gt;</td> <td>Specify a space separated list of HDFS files/dirs to migrate.</td></tr></tbody></table> <p>Runs the data migration utility. See <a href="/docs/hadoop-project-dist/hadoop-hdfs/ArchivalStorage.html#Mover_-_A_New_Data_Migration_Tool">Mover</a> for more details.</p> <p>Note that, when both -p and -f options are omitted, the default path is the root directory.</p> <p>In addition, a pinning feature is introduced starting from 2.7.0 to prevent certain replicas from getting moved by balancer/mover. This pinning feature is disabled by default, and can be enabled by configuration property “dfs.datanode.block-pinning.enabled”. When enabled, this feature only affects blocks that are written to favored nodes specified in the create() call. This feature is useful when we want to maintain the data locality, for applications such as HBase regionserver.</p> <h3 id="namenode"><a href="#namenode" aria-hidden="true" class="header-anchor">#</a> namenode</h3> <p>Usage:</p> <pre><code>  hdfs namenode [-backup] |
          [-checkpoint] |
          [-format [-clusterid cid ] [-force] [-nonInteractive] ] |
          [-upgrade [-clusterid cid] [-renameReserved&lt;k-v pairs&gt;] ] |
          [-upgradeOnly [-clusterid cid] [-renameReserved&lt;k-v pairs&gt;] ] |
          [-rollback] |
          [-rollingUpgrade &lt;rollback |started&gt; ] |
          [-importCheckpoint] |
          [-initializeSharedEdits] |
          [-bootstrapStandby [-force] [-nonInteractive] [-skipSharedEditsCheck] ] |
          [-recover [-force] ] |
          [-metadataVersion ]
</code></pre> <table><thead><tr><th>COMMAND_OPTION</th> <th>Description</th></tr></thead> <tbody><tr><td>-backup</td> <td>Start backup node.</td></tr> <tr><td>-checkpoint</td> <td>Start checkpoint node.</td></tr> <tr><td>-format [-clusterid cid]</td> <td>Formats the specified NameNode. It starts the NameNode, formats it and then shut it down. Will throw NameNodeFormatException if name dir already exist and if reformat is disabled for cluster.</td></tr> <tr><td>-upgrade [-clusterid cid] [-renameReserved <k-v pairs="">]</k-v></td> <td>Namenode should be started with upgrade option after the distribution of new Hadoop version.</td></tr> <tr><td>-upgradeOnly [-clusterid cid] [-renameReserved <k-v pairs="">]</k-v></td> <td>Upgrade the specified NameNode and then shutdown it.</td></tr> <tr><td>-rollback</td> <td>Rollback the NameNode to the previous version. This should be used after stopping the cluster and distributing the old Hadoop version.</td></tr> <tr><td>-rollingUpgrade &lt;rollback</td> <td>started&gt;</td></tr> <tr><td>-importCheckpoint</td> <td>Loads image from a checkpoint directory and save it into the current one. Checkpoint dir is read from property dfs.namenode.checkpoint.dir</td></tr> <tr><td>-initializeSharedEdits</td> <td>Format a new shared edits dir and copy in enough edit log segments so that the standby NameNode can start up.</td></tr> <tr><td>-bootstrapStandby [-force] [-nonInteractive] [-skipSharedEditsCheck]</td> <td>Allows the standby NameNode’s storage directories to be bootstrapped by copying the latest namespace snapshot from the active NameNode. This is used when first configuring an HA cluster. The option -force or -nonInteractive has the same meaning as that described in namenode -format command. -skipSharedEditsCheck option skips edits check which ensures that we have enough edits already in the shared directory to start up from the last checkpoint on the active.</td></tr> <tr><td>-recover [-force]</td> <td>Recover lost metadata on a corrupt filesystem. See <a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsUserGuide.html#Recovery_Mode">HDFS User Guide</a> for the detail.</td></tr> <tr><td>-metadataVersion</td> <td>Verify that configured directories exist, then print the metadata versions of the software and the image.</td></tr></tbody></table> <p>Runs the namenode. More info about the upgrade and rollback is at <a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsUserGuide.html#Upgrade_and_Rollback">Upgrade Rollback</a>.</p> <h3 id="nfs3"><a href="#nfs3" aria-hidden="true" class="header-anchor">#</a> nfs3</h3> <p>Usage: hdfs nfs3</p> <p>This comamnd starts the NFS3 gateway for use with the <a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsNfsGateway.html#Start_and_stop_NFS_gateway_service">HDFS NFS3 Service</a>.</p> <h3 id="portmap"><a href="#portmap" aria-hidden="true" class="header-anchor">#</a> portmap</h3> <p>Usage: hdfs portmap</p> <p>This comamnd starts the RPC portmap for use with the <a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsNfsGateway.html#Start_and_stop_NFS_gateway_service">HDFS NFS3 Service</a>.</p> <h3 id="secondarynamenode"><a href="#secondarynamenode" aria-hidden="true" class="header-anchor">#</a> secondarynamenode</h3> <p>Usage: hdfs secondarynamenode [-checkpoint [force]] | [-format] | [-geteditsize]</p> <table><thead><tr><th>COMMAND_OPTION</th> <th>Description</th></tr></thead> <tbody><tr><td>-checkpoint [force]</td> <td>Checkpoints the SecondaryNameNode if EditLog size &gt;= fs.checkpoint.size. If force is used, checkpoint irrespective of EditLog size.</td></tr> <tr><td>-format</td> <td>Format the local storage during startup.</td></tr> <tr><td>-geteditsize</td> <td>Prints the number of uncheckpointed transactions on the NameNode.</td></tr></tbody></table> <p>Runs the HDFS secondary namenode. See <a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsUserGuide.html#Secondary_NameNode">Secondary Namenode</a> for more info.</p> <h3 id="storagepolicies"><a href="#storagepolicies" aria-hidden="true" class="header-anchor">#</a> storagepolicies</h3> <p>Usage:</p> <pre><code>  hdfs storagepolicies
      [-listPolicies]
      [-setStoragePolicy -path &lt;path&gt; -policy &lt;policy&gt;]
      [-getStoragePolicy -path &lt;path&gt;]
      [-unsetStoragePolicy -path &lt;path&gt;]
      [-satisfyStoragePolicy -path &lt;path&gt;]
      [-isSatisfierRunning]
      [-help &lt;command-name&gt;]
</code></pre> <p>Lists out all/Gets/sets/unsets storage policies. See the <a href="/docs/hadoop-project-dist/hadoop-hdfs/ArchivalStorage.html">HDFS Storage Policy Documentation</a> for more information.</p> <h3 id="zkfc"><a href="#zkfc" aria-hidden="true" class="header-anchor">#</a> zkfc</h3> <p>Usage: hdfs zkfc [-formatZK [-force] [-nonInteractive]]</p> <table><thead><tr><th>COMMAND_OPTION</th> <th>Description</th></tr></thead> <tbody><tr><td>-formatZK</td> <td>Format the Zookeeper instance. -force: formats the znode if the znode exists. -nonInteractive: formats the znode aborts if the znode exists, unless -force option is specified.</td></tr> <tr><td>-h</td> <td>Display help</td></tr></tbody></table> <p>This comamnd starts a Zookeeper Failover Controller process for use with <a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSHighAvailabilityWithQJM.html#Administrative_commands">HDFS HA with QJM</a>.</p> <h2 id="debug-commands"><a href="#debug-commands" aria-hidden="true" class="header-anchor">#</a> Debug Commands</h2> <p>Useful commands to help administrators debug HDFS issues. These commands are for advanced users only.</p> <h3 id="verifymeta"><a href="#verifymeta" aria-hidden="true" class="header-anchor">#</a> verifyMeta</h3> <p>Usage: hdfs debug verifyMeta -meta <metadata-file> [-block <block-file>]</block-file></metadata-file></p> <table><thead><tr><th>COMMAND_OPTION</th> <th>Description</th></tr></thead> <tbody><tr><td>-block block-file</td> <td>Optional parameter to specify the absolute path for the block file on the local file system of the data node.</td></tr> <tr><td>-meta metadata-file</td> <td>Absolute path for the metadata file on the local file system of the data node.</td></tr></tbody></table> <p>Verify HDFS metadata and block files. If a block file is specified, we will verify that the checksums in the metadata file match the block file.</p> <h3 id="computemeta"><a href="#computemeta" aria-hidden="true" class="header-anchor">#</a> computeMeta</h3> <p>Usage: hdfs debug computeMeta -block <block-file> -out <output-metadata-file></output-metadata-file></block-file></p> <table><thead><tr><th>COMMAND_OPTION</th> <th>Description</th></tr></thead> <tbody><tr><td>-block block-file</td> <td>Absolute path for the block file on the local file system of the data node.</td></tr> <tr><td>-out output-metadata-file</td> <td>Absolute path for the output metadata file to store the checksum computation result from the block file.</td></tr></tbody></table> <p>Compute HDFS metadata from block files. If a block file is specified, we will compute the checksums from the block file, and save it to the specified output metadata file.</p> <p>NOTE: Use at your own risk! If the block file is corrupt and you overwrite it’s meta file, it will show up as ‘good’ in HDFS, but you can’t read the data. Only use as a last measure, and when you are 100% certain the block file is good.</p> <h3 id="recoverlease"><a href="#recoverlease" aria-hidden="true" class="header-anchor">#</a> recoverLease</h3> <p>Usage: hdfs debug recoverLease -path <path> [-retries <num-retries>]</num-retries></path></p> <table><thead><tr><th>COMMAND_OPTION</th> <th>Description</th></tr></thead> <tbody><tr><td>[-path path]</td> <td>HDFS path for which to recover the lease.</td></tr> <tr><td>[-retries num-retries]</td> <td>Number of times the client will retry calling recoverLease. The default number of retries is 1.</td></tr></tbody></table> <p>Recover the lease on the specified path. The path must reside on an HDFS filesystem. The default number of retries is 1.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/hadoop-project-dist/hadoop-hdfs/HdfsUserGuide.html" class="prev">User Guide</a></span> <span class="next"><a href="/docs/hadoop-project-dist/hadoop-hdfs/HDFSHighAvailabilityWithQJM.html">NameNode HA With QJM</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.1efbd24b.js" defer></script><script src="/assets/js/2.8cd1edd2.js" defer></script><script src="/assets/js/64.849b066d.js" defer></script>
  </body>
</html>
